{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 98,
   "source": [
    "import squarify\r\n",
    "import os\r\n",
    "    \r\n",
    "# Main libraries that we will use in this kernel\r\n",
    "import datetime\r\n",
    "import numpy as np\r\n",
    "import pandas as pd\r\n",
    "\r\n",
    "# # garbage collector: free some memory is needed\r\n",
    "import gc\r\n",
    "import matplotlib\r\n",
    "import matplotlib.pyplot as plt\r\n",
    "import plotly.express as px\r\n",
    "import seaborn as sns\r\n",
    "\r\n",
    "# statistical package and some useful functions to analyze our timeseries\r\n",
    "from statsmodels.tsa.stattools import pacf\r\n",
    "from statsmodels.graphics.tsaplots import plot_acf, plot_pacf\r\n",
    "from statsmodels.tsa.seasonal import seasonal_decompose\r\n",
    "import statsmodels.tsa.stattools as stattools\r\n",
    "\r\n",
    "import time\r\n",
    "\r\n",
    "from string import punctuation\r\n",
    "from sklearn.preprocessing import LabelEncoder\r\n",
    "from sklearn.linear_model import LinearRegression\r\n",
    "\r\n",
    "import warnings\r\n",
    "warnings.filterwarnings(\"ignore\")"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "f0e72443-ffd0-4847-9a85-1c375a72bc4f"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 99,
   "source": [
    "from sklearn import preprocessing"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "10eb9938-bb1c-4a6f-b584-2907aa120466"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 100,
   "source": [
    "# python core library for machine learning and data science\r\n",
    "from sklearn.pipeline import Pipeline\r\n",
    "from sklearn.preprocessing import StandardScaler, MinMaxScaler\r\n",
    "from sklearn.base import BaseEstimator, TransformerMixin\r\n",
    "from sklearn.impute import KNNImputer, SimpleImputer\r\n",
    "from sklearn.cluster import KMeans"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "bc7f16db-3af4-4634-82d5-881a8786ce32"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 101,
   "source": [
    "full_3OHE = pd.read_pickle('./full_3OHE.pickle')"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "292a7689-642e-40df-a221-853a7efc034e"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 102,
   "source": [
    "import plotly.express as px"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "2730be9d-6657-4e9d-808b-26eec38d75be"
   }
  },
  {
   "cell_type": "markdown",
   "source": [
    "## DATASET PARA CLASIFICACIÓN BINARIA"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 103,
   "source": [
    "full_3OHE.select_dtypes(include=['object']).describe().T"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "          count  unique      top freq\n",
       "pk_cid  6254518  350384  1128353  149"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>count</th>\n",
       "      <th>unique</th>\n",
       "      <th>top</th>\n",
       "      <th>freq</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>pk_cid</th>\n",
       "      <td>6254518</td>\n",
       "      <td>350384</td>\n",
       "      <td>1128353</td>\n",
       "      <td>149</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 103
    }
   ],
   "metadata": {
    "scrolled": true
   }
  },
  {
   "cell_type": "markdown",
   "source": [
    "### Aplicamos un Frequency Label PARA LA ÚNICA VBLE CATEGÓRICA QUE NOS QUEDA"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 104,
   "source": [
    "customer_num = pd.DataFrame(full_3OHE['pk_cid'].value_counts(dropna = False))\r\n",
    "customer_num.columns = ['customer_count']\r\n",
    "customer_num['pk_cid'] = customer_num.index"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 105,
   "source": [
    "full_3OHE"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "          Ventas_cant  Precios  Ingresos  días_encartera   pk_cid  \\\n",
       "22134             1.0       40      40.0            20.0   100296   \n",
       "22135             1.0       40      40.0            50.0   100296   \n",
       "22136             1.0       40      40.0            81.0   100296   \n",
       "27826             1.0       40      40.0          1337.0  1003705   \n",
       "27827             1.0       40      40.0          1367.0  1003705   \n",
       "...               ...      ...       ...             ...      ...   \n",
       "89443855          1.0       10      10.0           672.0   999892   \n",
       "89443856          1.0       10      10.0           703.0   999892   \n",
       "89443857          1.0       10      10.0           731.0   999892   \n",
       "89443858          1.0       10      10.0           762.0   999892   \n",
       "89443859          1.0       10      10.0           792.0   999892   \n",
       "\n",
       "          region_code  age  Month  days_between  recurrencia  ...  \\\n",
       "22134            28.0   46      4           0.0            1  ...   \n",
       "22135            28.0   46      5          30.0            2  ...   \n",
       "22136            28.0   46      6          31.0            3  ...   \n",
       "27826            28.0   33      9           0.0            1  ...   \n",
       "27827            28.0   33     10          30.0            2  ...   \n",
       "...               ...  ...    ...           ...          ...  ...   \n",
       "89443855         28.0   37      1          31.0           68  ...   \n",
       "89443856         28.0   37      2          31.0           69  ...   \n",
       "89443857         28.0   38      3          28.0           70  ...   \n",
       "89443858         28.0   38      4          31.0           71  ...   \n",
       "89443859         28.0   38      5          30.0           72  ...   \n",
       "\n",
       "          country_id_RU  country_id_SA  country_id_SE  country_id_SN  \\\n",
       "22134                 0              0              0              0   \n",
       "22135                 0              0              0              0   \n",
       "22136                 0              0              0              0   \n",
       "27826                 0              0              0              0   \n",
       "27827                 0              0              0              0   \n",
       "...                 ...            ...            ...            ...   \n",
       "89443855              0              0              0              0   \n",
       "89443856              0              0              0              0   \n",
       "89443857              0              0              0              0   \n",
       "89443858              0              0              0              0   \n",
       "89443859              0              0              0              0   \n",
       "\n",
       "          country_id_US  country_id_VE  gender_H  gender_V  deceased_N  \\\n",
       "22134                 0              0         0         1           1   \n",
       "22135                 0              0         0         1           1   \n",
       "22136                 0              0         0         1           1   \n",
       "27826                 0              0         1         0           1   \n",
       "27827                 0              0         1         0           1   \n",
       "...                 ...            ...       ...       ...         ...   \n",
       "89443855              0              0         1         0           1   \n",
       "89443856              0              0         1         0           1   \n",
       "89443857              0              0         1         0           1   \n",
       "89443858              0              0         1         0           1   \n",
       "89443859              0              0         1         0           1   \n",
       "\n",
       "          deceased_S  \n",
       "22134              0  \n",
       "22135              0  \n",
       "22136              0  \n",
       "27826              0  \n",
       "27827              0  \n",
       "...              ...  \n",
       "89443855           0  \n",
       "89443856           0  \n",
       "89443857           0  \n",
       "89443858           0  \n",
       "89443859           0  \n",
       "\n",
       "[6254518 rows x 129 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Ventas_cant</th>\n",
       "      <th>Precios</th>\n",
       "      <th>Ingresos</th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>pk_cid</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>...</th>\n",
       "      <th>country_id_RU</th>\n",
       "      <th>country_id_SA</th>\n",
       "      <th>country_id_SE</th>\n",
       "      <th>country_id_SN</th>\n",
       "      <th>country_id_US</th>\n",
       "      <th>country_id_VE</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>22134</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>4</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22135</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>50.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22136</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>81.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27826</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>1337.0</td>\n",
       "      <td>1003705</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>9</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27827</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>1367.0</td>\n",
       "      <td>1003705</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>10</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89443855</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>672.0</td>\n",
       "      <td>999892</td>\n",
       "      <td>28.0</td>\n",
       "      <td>37</td>\n",
       "      <td>1</td>\n",
       "      <td>31.0</td>\n",
       "      <td>68</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89443856</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>703.0</td>\n",
       "      <td>999892</td>\n",
       "      <td>28.0</td>\n",
       "      <td>37</td>\n",
       "      <td>2</td>\n",
       "      <td>31.0</td>\n",
       "      <td>69</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89443857</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>731.0</td>\n",
       "      <td>999892</td>\n",
       "      <td>28.0</td>\n",
       "      <td>38</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>70</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89443858</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>762.0</td>\n",
       "      <td>999892</td>\n",
       "      <td>28.0</td>\n",
       "      <td>38</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>71</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>89443859</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>792.0</td>\n",
       "      <td>999892</td>\n",
       "      <td>28.0</td>\n",
       "      <td>38</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>72</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>6254518 rows × 129 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 105
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 106,
   "source": [
    "customer_num"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         customer_count   pk_cid\n",
       "1128353             149  1128353\n",
       "1190607             145  1190607\n",
       "1070525             142  1070525\n",
       "1233988             136  1233988\n",
       "1053446             136  1053446\n",
       "...                 ...      ...\n",
       "1549804               1  1549804\n",
       "1523780               1  1523780\n",
       "1550498               1  1550498\n",
       "1551608               1  1551608\n",
       "1037304               1  1037304\n",
       "\n",
       "[350384 rows x 2 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>customer_count</th>\n",
       "      <th>pk_cid</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1128353</th>\n",
       "      <td>149</td>\n",
       "      <td>1128353</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1190607</th>\n",
       "      <td>145</td>\n",
       "      <td>1190607</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1070525</th>\n",
       "      <td>142</td>\n",
       "      <td>1070525</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1233988</th>\n",
       "      <td>136</td>\n",
       "      <td>1233988</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1053446</th>\n",
       "      <td>136</td>\n",
       "      <td>1053446</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1549804</th>\n",
       "      <td>1</td>\n",
       "      <td>1549804</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1523780</th>\n",
       "      <td>1</td>\n",
       "      <td>1523780</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1550498</th>\n",
       "      <td>1</td>\n",
       "      <td>1550498</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1551608</th>\n",
       "      <td>1</td>\n",
       "      <td>1551608</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1037304</th>\n",
       "      <td>1</td>\n",
       "      <td>1037304</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>350384 rows × 2 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 106
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 107,
   "source": [
    "#df = full_3OHE.merge(customer_num, on = 'pk_cid')\r\n",
    "df = pd.merge(full_3OHE, customer_num, on = ['pk_cid'])"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "1879dcf3-3eb2-4268-b020-aa2ebaa7c5ca"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 108,
   "source": [
    "df.head().T"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "                                   0       1       2       3       4\n",
       "Ventas_cant                        1       1       1       1       1\n",
       "Precios                           40      40      40      40      40\n",
       "Ingresos                          40      40      40      40      40\n",
       "días_encartera                    20      50      81     111     142\n",
       "pk_cid                        100296  100296  100296  100296  100296\n",
       "region_code                       28      28      28      28      28\n",
       "age                               46      46      46      46      46\n",
       "Month                              4       5       6       7       8\n",
       "days_between                       0      30      31      30      31\n",
       "recurrencia                        1       2       3       4       5\n",
       "Year                            2018    2018    2018    2018    2018\n",
       "Productos_credit_card              0       0       0       0       0\n",
       "Productos_debit_card               0       0       0       0       0\n",
       "Productos_em_account_p             0       0       0       0       0\n",
       "Productos_em_acount                0       0       0       0       0\n",
       "Productos_emc_account              0       0       0       0       0\n",
       "Productos_funds                    0       0       0       0       0\n",
       "Productos_loans                    0       0       0       0       0\n",
       "Productos_long_term_deposit        0       0       0       1       1\n",
       "Productos_mortgage                 0       0       0       0       0\n",
       "Productos_payroll                  0       0       0       0       0\n",
       "Productos_payroll_account          0       0       0       0       0\n",
       "Productos_pension_plan             0       0       0       0       0\n",
       "Productos_securities               0       0       0       0       0\n",
       "Productos_short_term_deposit       1       1       1       0       0\n",
       "Familia_prod_AhorroVista           0       0       0       0       0\n",
       "Familia_prod_Crédito               0       0       0       0       0\n",
       "Familia_prod_Inversión             1       1       1       1       1\n",
       "entry_channel_                     0       0       0       0       0\n",
       "entry_channel_004                  0       0       0       0       0\n",
       "entry_channel_007                  0       0       0       0       0\n",
       "entry_channel_013                  0       0       0       0       0\n",
       "entry_channel_KAA                  0       0       0       0       0\n",
       "entry_channel_KAB                  0       0       0       0       0\n",
       "entry_channel_KAD                  0       0       0       0       0\n",
       "entry_channel_KAE                  0       0       0       0       0\n",
       "entry_channel_KAF                  0       0       0       0       0\n",
       "entry_channel_KAG                  0       0       0       0       0\n",
       "entry_channel_KAH                  0       0       0       0       0\n",
       "entry_channel_KAJ                  0       0       0       0       0\n",
       "entry_channel_KAK                  0       0       0       0       0\n",
       "entry_channel_KAM                  0       0       0       0       0\n",
       "entry_channel_KAQ                  0       0       0       0       0\n",
       "entry_channel_KAR                  0       0       0       0       0\n",
       "entry_channel_KAS                  0       0       0       0       0\n",
       "entry_channel_KAT                  0       0       0       0       0\n",
       "entry_channel_KAW                  0       0       0       0       0\n",
       "entry_channel_KAY                  0       0       0       0       0\n",
       "entry_channel_KAZ                  0       0       0       0       0\n",
       "entry_channel_KBE                  0       0       0       0       0\n",
       "entry_channel_KBG                  0       0       0       0       0\n",
       "entry_channel_KBH                  0       0       0       0       0\n",
       "entry_channel_KBO                  0       0       0       0       0\n",
       "entry_channel_KBW                  0       0       0       0       0\n",
       "entry_channel_KBZ                  0       0       0       0       0\n",
       "entry_channel_KCB                  0       0       0       0       0\n",
       "entry_channel_KCC                  0       0       0       0       0\n",
       "entry_channel_KCH                  0       0       0       0       0\n",
       "entry_channel_KCI                  0       0       0       0       0\n",
       "entry_channel_KCK                  0       0       0       0       0\n",
       "entry_channel_KCL                  0       0       0       0       0\n",
       "entry_channel_KDA                  0       0       0       0       0\n",
       "entry_channel_KDH                  0       0       0       0       0\n",
       "entry_channel_KDR                  0       0       0       0       0\n",
       "entry_channel_KDT                  0       0       0       0       0\n",
       "entry_channel_KEH                  0       0       0       0       0\n",
       "entry_channel_KEY                  0       0       0       0       0\n",
       "entry_channel_KFA                  0       0       0       0       0\n",
       "entry_channel_KFC                  0       0       0       0       0\n",
       "entry_channel_KFD                  0       0       0       0       0\n",
       "entry_channel_KFK                  0       0       0       0       0\n",
       "entry_channel_KFL                  0       0       0       0       0\n",
       "entry_channel_KFS                  0       0       0       0       0\n",
       "entry_channel_KGC                  0       0       0       0       0\n",
       "entry_channel_KGN                  0       0       0       0       0\n",
       "entry_channel_KGX                  0       0       0       0       0\n",
       "entry_channel_KHC                  0       0       0       0       0\n",
       "entry_channel_KHD                  0       0       0       0       0\n",
       "entry_channel_KHE                  0       0       0       0       0\n",
       "entry_channel_KHF                  0       0       0       0       0\n",
       "entry_channel_KHK                  1       1       1       1       1\n",
       "entry_channel_KHL                  0       0       0       0       0\n",
       "entry_channel_KHM                  0       0       0       0       0\n",
       "entry_channel_KHN                  0       0       0       0       0\n",
       "entry_channel_KHO                  0       0       0       0       0\n",
       "entry_channel_KHP                  0       0       0       0       0\n",
       "entry_channel_KHQ                  0       0       0       0       0\n",
       "entry_channel_RED                  0       0       0       0       0\n",
       "country_id_AR                      0       0       0       0       0\n",
       "country_id_AT                      0       0       0       0       0\n",
       "country_id_BE                      0       0       0       0       0\n",
       "country_id_BR                      0       0       0       0       0\n",
       "country_id_CA                      0       0       0       0       0\n",
       "country_id_CH                      0       0       0       0       0\n",
       "country_id_CI                      0       0       0       0       0\n",
       "country_id_CL                      0       0       0       0       0\n",
       "country_id_CM                      0       0       0       0       0\n",
       "country_id_CN                      0       0       0       0       0\n",
       "country_id_CO                      0       0       0       0       0\n",
       "country_id_DE                      0       0       0       0       0\n",
       "country_id_DO                      0       0       0       0       0\n",
       "country_id_DZ                      0       0       0       0       0\n",
       "country_id_ES                      1       1       1       1       1\n",
       "country_id_ET                      0       0       0       0       0\n",
       "country_id_FR                      0       0       0       0       0\n",
       "country_id_GA                      0       0       0       0       0\n",
       "country_id_GB                      0       0       0       0       0\n",
       "country_id_GT                      0       0       0       0       0\n",
       "country_id_IE                      0       0       0       0       0\n",
       "country_id_IT                      0       0       0       0       0\n",
       "country_id_LU                      0       0       0       0       0\n",
       "country_id_MA                      0       0       0       0       0\n",
       "country_id_MR                      0       0       0       0       0\n",
       "country_id_MX                      0       0       0       0       0\n",
       "country_id_NO                      0       0       0       0       0\n",
       "country_id_PE                      0       0       0       0       0\n",
       "country_id_PL                      0       0       0       0       0\n",
       "country_id_QA                      0       0       0       0       0\n",
       "country_id_RO                      0       0       0       0       0\n",
       "country_id_RU                      0       0       0       0       0\n",
       "country_id_SA                      0       0       0       0       0\n",
       "country_id_SE                      0       0       0       0       0\n",
       "country_id_SN                      0       0       0       0       0\n",
       "country_id_US                      0       0       0       0       0\n",
       "country_id_VE                      0       0       0       0       0\n",
       "gender_H                           0       0       0       0       0\n",
       "gender_V                           1       1       1       1       1\n",
       "deceased_N                         1       1       1       1       1\n",
       "deceased_S                         0       0       0       0       0\n",
       "customer_count                    28      28      28      28      28"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Ventas_cant</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Precios</th>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Ingresos</th>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "      <td>40</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>días_encartera</th>\n",
       "      <td>20</td>\n",
       "      <td>50</td>\n",
       "      <td>81</td>\n",
       "      <td>111</td>\n",
       "      <td>142</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>pk_cid</th>\n",
       "      <td>100296</td>\n",
       "      <td>100296</td>\n",
       "      <td>100296</td>\n",
       "      <td>100296</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>region_code</th>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>age</th>\n",
       "      <td>46</td>\n",
       "      <td>46</td>\n",
       "      <td>46</td>\n",
       "      <td>46</td>\n",
       "      <td>46</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Month</th>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>8</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>days_between</th>\n",
       "      <td>0</td>\n",
       "      <td>30</td>\n",
       "      <td>31</td>\n",
       "      <td>30</td>\n",
       "      <td>31</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>recurrencia</th>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>3</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Year</th>\n",
       "      <td>2018</td>\n",
       "      <td>2018</td>\n",
       "      <td>2018</td>\n",
       "      <td>2018</td>\n",
       "      <td>2018</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_em_acount</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_emc_account</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_funds</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_loans</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_long_term_deposit</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_mortgage</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_payroll</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_payroll_account</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_pension_plan</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_securities</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Familia_prod_AhorroVista</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Familia_prod_Crédito</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Familia_prod_Inversión</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_004</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_007</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_013</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAB</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAD</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAF</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAG</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAJ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAK</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAM</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAQ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAS</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAT</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAW</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAY</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAZ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBG</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBW</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBZ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCB</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCC</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCI</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCK</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCL</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDT</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KEH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KEY</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFC</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFD</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFK</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFL</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFS</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGC</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGN</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGX</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHC</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHD</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHF</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHK</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHL</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHM</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_AR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_AT</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_BE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_BR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CH</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CI</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CL</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CM</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CN</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_CO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_DE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_DO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_DZ</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_ES</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_ET</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_FR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_GA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_GB</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_GT</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_IE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_IT</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_LU</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_MA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_MR</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_MX</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_NO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_PE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_PL</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_QA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_RO</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_RU</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_SA</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_SE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_SN</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_US</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>country_id_VE</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>gender_H</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>gender_V</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>deceased_N</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>deceased_S</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>customer_count</th>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 108
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 109,
   "source": [
    "df.select_dtypes(include=['object']).describe().T"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "          count  unique      top freq\n",
       "pk_cid  6254518  350384  1128353  149"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>count</th>\n",
       "      <th>unique</th>\n",
       "      <th>top</th>\n",
       "      <th>freq</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>pk_cid</th>\n",
       "      <td>6254518</td>\n",
       "      <td>350384</td>\n",
       "      <td>1128353</td>\n",
       "      <td>149</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 109
    }
   ],
   "metadata": {
    "scrolled": true
   }
  },
  {
   "cell_type": "markdown",
   "source": [
    "## Definamos el target\r\n"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 110,
   "source": [
    "#Target = 'Productos_pension_plan'\r\n",
    "#Target = 'Productos_credit_card'\r\n",
    "#Target = 'Productos_debit_card'\r\n",
    "#Target = 'Productos_em_acount'  # Mas de 10.000 clientes con proba > 0.99\r\n",
    "#Target = 'Productos_emc_account'\r\n",
    "#Target = 'Productos_funds' # 7.000 en test\r\n",
    "#Target = 'Productos_loans' # 164 en test\r\n",
    "#Target = 'Productos_long_term_deposit'  # 34.000 en test\r\n",
    "#Target = 'Productos_mortgage'  # 112 en test\r\n",
    "#Target = 'Productos_payroll'\r\n",
    "#Target = 'Productos_payroll_account'\r\n",
    "#Target = 'Productos_securities' # 7.000 en test, salen probas mas bajas\r\n",
    "\r\n",
    "Target =  'Productos_short_term_deposit'  # 6.000 en test\r\n",
    "\r\n",
    "#Target = 'Productos_em_account_p' # Demasiadas pocas compras\r\n",
    "\r\n",
    "\r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 111,
   "source": [
    "df.pivot_table(index=['Year','Month'], values=Target, aggfunc=[len, sum, np.mean])"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "                                    len                          sum  \\\n",
       "           Productos_short_term_deposit Productos_short_term_deposit   \n",
       "Year Month                                                             \n",
       "2018 1                           296613                        883.0   \n",
       "     2                           302458                       1343.0   \n",
       "     3                           308879                       1664.0   \n",
       "     4                           313499                       1740.0   \n",
       "     5                           316422                       1455.0   \n",
       "     6                           322287                       1244.0   \n",
       "     7                           337160                       1282.0   \n",
       "     8                           349012                       1335.0   \n",
       "     9                           369172                       1386.0   \n",
       "     10                          391335                       1374.0   \n",
       "     11                          402819                       1018.0   \n",
       "     12                          412142                        528.0   \n",
       "2019 1                           411289                        125.0   \n",
       "     2                           421415                         11.0   \n",
       "     3                           428653                          2.0   \n",
       "     4                           432665                          2.0   \n",
       "     5                           438698                          2.0   \n",
       "\n",
       "                                   mean  \n",
       "           Productos_short_term_deposit  \n",
       "Year Month                               \n",
       "2018 1                         0.002977  \n",
       "     2                         0.004440  \n",
       "     3                         0.005387  \n",
       "     4                         0.005550  \n",
       "     5                         0.004598  \n",
       "     6                         0.003860  \n",
       "     7                         0.003802  \n",
       "     8                         0.003825  \n",
       "     9                         0.003754  \n",
       "     10                        0.003511  \n",
       "     11                        0.002527  \n",
       "     12                        0.001281  \n",
       "2019 1                         0.000304  \n",
       "     2                         0.000026  \n",
       "     3                         0.000005  \n",
       "     4                         0.000005  \n",
       "     5                         0.000005  "
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr:last-of-type th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>len</th>\n",
       "      <th>sum</th>\n",
       "      <th>mean</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Year</th>\n",
       "      <th>Month</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th rowspan=\"12\" valign=\"top\">2018</th>\n",
       "      <th>1</th>\n",
       "      <td>296613</td>\n",
       "      <td>883.0</td>\n",
       "      <td>0.002977</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>302458</td>\n",
       "      <td>1343.0</td>\n",
       "      <td>0.004440</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>308879</td>\n",
       "      <td>1664.0</td>\n",
       "      <td>0.005387</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>313499</td>\n",
       "      <td>1740.0</td>\n",
       "      <td>0.005550</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>316422</td>\n",
       "      <td>1455.0</td>\n",
       "      <td>0.004598</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>322287</td>\n",
       "      <td>1244.0</td>\n",
       "      <td>0.003860</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>337160</td>\n",
       "      <td>1282.0</td>\n",
       "      <td>0.003802</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>349012</td>\n",
       "      <td>1335.0</td>\n",
       "      <td>0.003825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>369172</td>\n",
       "      <td>1386.0</td>\n",
       "      <td>0.003754</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>391335</td>\n",
       "      <td>1374.0</td>\n",
       "      <td>0.003511</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>402819</td>\n",
       "      <td>1018.0</td>\n",
       "      <td>0.002527</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>412142</td>\n",
       "      <td>528.0</td>\n",
       "      <td>0.001281</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th rowspan=\"5\" valign=\"top\">2019</th>\n",
       "      <th>1</th>\n",
       "      <td>411289</td>\n",
       "      <td>125.0</td>\n",
       "      <td>0.000304</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>421415</td>\n",
       "      <td>11.0</td>\n",
       "      <td>0.000026</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>428653</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.000005</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>432665</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.000005</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>438698</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0.000005</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 111
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 112,
   "source": [
    "df_pk_cid = df[['pk_cid']]"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 113,
   "source": [
    "df_pk_cid"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         pk_cid\n",
       "0        100296\n",
       "1        100296\n",
       "2        100296\n",
       "3        100296\n",
       "4        100296\n",
       "...         ...\n",
       "6254513  999825\n",
       "6254514  999825\n",
       "6254515  999825\n",
       "6254516  999825\n",
       "6254517  999825\n",
       "\n",
       "[6254518 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>pk_cid</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254513</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254514</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254515</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254516</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254517</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>6254518 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 113
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 114,
   "source": [
    "df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Ventas_cant  Precios  Ingresos  días_encartera  pk_cid  region_code  \\\n",
       "0                1.0       40      40.0            20.0  100296         28.0   \n",
       "1                1.0       40      40.0            50.0  100296         28.0   \n",
       "2                1.0       40      40.0            81.0  100296         28.0   \n",
       "3                1.0       40      40.0           111.0  100296         28.0   \n",
       "4                1.0       40      40.0           142.0  100296         28.0   \n",
       "...              ...      ...       ...             ...     ...          ...   \n",
       "6254513          1.0       10      10.0           757.0  999825         48.0   \n",
       "6254514          1.0       10      10.0           788.0  999825         48.0   \n",
       "6254515          1.0       10      10.0           816.0  999825         48.0   \n",
       "6254516          1.0       10      10.0           847.0  999825         48.0   \n",
       "6254517          1.0       10      10.0           877.0  999825         48.0   \n",
       "\n",
       "         age  Month  days_between  recurrencia  ...  country_id_SA  \\\n",
       "0         46      4           0.0            1  ...              0   \n",
       "1         46      5          30.0            2  ...              0   \n",
       "2         46      6          31.0            3  ...              0   \n",
       "3         46      7          30.0            4  ...              0   \n",
       "4         46      8          31.0            5  ...              0   \n",
       "...      ...    ...           ...          ...  ...            ...   \n",
       "6254513   40      1          31.0           13  ...              0   \n",
       "6254514   40      2          31.0           14  ...              0   \n",
       "6254515   40      3          28.0           15  ...              0   \n",
       "6254516   40      4          31.0           16  ...              0   \n",
       "6254517   40      5          30.0           17  ...              0   \n",
       "\n",
       "         country_id_SE  country_id_SN  country_id_US  country_id_VE  gender_H  \\\n",
       "0                    0              0              0              0         0   \n",
       "1                    0              0              0              0         0   \n",
       "2                    0              0              0              0         0   \n",
       "3                    0              0              0              0         0   \n",
       "4                    0              0              0              0         0   \n",
       "...                ...            ...            ...            ...       ...   \n",
       "6254513              0              0              0              0         0   \n",
       "6254514              0              0              0              0         0   \n",
       "6254515              0              0              0              0         0   \n",
       "6254516              0              0              0              0         0   \n",
       "6254517              0              0              0              0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "0               1           1           0              28  \n",
       "1               1           1           0              28  \n",
       "2               1           1           0              28  \n",
       "3               1           1           0              28  \n",
       "4               1           1           0              28  \n",
       "...           ...         ...         ...             ...  \n",
       "6254513         1           1           0              17  \n",
       "6254514         1           1           0              17  \n",
       "6254515         1           1           0              17  \n",
       "6254516         1           1           0              17  \n",
       "6254517         1           1           0              17  \n",
       "\n",
       "[6254518 rows x 130 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Ventas_cant</th>\n",
       "      <th>Precios</th>\n",
       "      <th>Ingresos</th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>pk_cid</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>...</th>\n",
       "      <th>country_id_SA</th>\n",
       "      <th>country_id_SE</th>\n",
       "      <th>country_id_SN</th>\n",
       "      <th>country_id_US</th>\n",
       "      <th>country_id_VE</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>4</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>50.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>81.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>111.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>7</td>\n",
       "      <td>30.0</td>\n",
       "      <td>4</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>1.0</td>\n",
       "      <td>40</td>\n",
       "      <td>40.0</td>\n",
       "      <td>142.0</td>\n",
       "      <td>100296</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>8</td>\n",
       "      <td>31.0</td>\n",
       "      <td>5</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254513</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>757.0</td>\n",
       "      <td>999825</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>1</td>\n",
       "      <td>31.0</td>\n",
       "      <td>13</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254514</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>788.0</td>\n",
       "      <td>999825</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>2</td>\n",
       "      <td>31.0</td>\n",
       "      <td>14</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254515</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>816.0</td>\n",
       "      <td>999825</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>15</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254516</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>847.0</td>\n",
       "      <td>999825</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>16</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254517</th>\n",
       "      <td>1.0</td>\n",
       "      <td>10</td>\n",
       "      <td>10.0</td>\n",
       "      <td>877.0</td>\n",
       "      <td>999825</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>17</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>6254518 rows × 130 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 114
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 115,
   "source": [
    "df_pk_cid"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         pk_cid\n",
       "0        100296\n",
       "1        100296\n",
       "2        100296\n",
       "3        100296\n",
       "4        100296\n",
       "...         ...\n",
       "6254513  999825\n",
       "6254514  999825\n",
       "6254515  999825\n",
       "6254516  999825\n",
       "6254517  999825\n",
       "\n",
       "[6254518 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>pk_cid</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254513</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254514</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254515</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254516</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254517</th>\n",
       "      <td>999825</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>6254518 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 115
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 116,
   "source": [
    "df.drop(['Ingresos','Ventas_cant','pk_cid','Precios','Familia_prod_AhorroVista','Familia_prod_Inversión','Familia_prod_Crédito'], axis = 1, inplace = True)"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "7a3aaab9-1caa-40b2-ad7a-84211c80e879"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 117,
   "source": [
    "df.drop(['country_id_AR',  'country_id_AT' , 'country_id_BE' , 'country_id_BR'  ,'country_id_CA' , 'country_id_CH' , 'country_id_CI' , 'country_id_CL' , 'country_id_CM' , 'country_id_CN' , 'country_id_CO' , 'country_id_DE' , 'country_id_DO'  ,'country_id_DZ'  ,'country_id_ES' , 'country_id_ET' , 'country_id_FR'  ,'country_id_GA'  ,'country_id_GB' , 'country_id_GT' , 'country_id_IE'  ,'country_id_IT'  ,'country_id_LU'  ,'country_id_MA' , 'country_id_MR' , 'country_id_MX'  ,'country_id_NO' , 'country_id_PE' , 'country_id_PL' , 'country_id_QA',  'country_id_RO' , 'country_id_RU' ,'country_id_SA' , 'country_id_SE',  'country_id_SN' , 'country_id_US' , 'country_id_VE'], axis = 1, inplace = True)"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 118,
   "source": [
    "df['Productos_em_acount'].value_counts()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "1    4381602\n",
       "0    1872916\n",
       "Name: Productos_em_acount, dtype: int64"
      ]
     },
     "metadata": {},
     "execution_count": 118
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 119,
   "source": [
    "pd.set_option('display.max_rows', 500)"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 120,
   "source": [
    "df.head().T"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "                                   0       1       2       3       4\n",
       "días_encartera                  20.0    50.0    81.0   111.0   142.0\n",
       "region_code                     28.0    28.0    28.0    28.0    28.0\n",
       "age                             46.0    46.0    46.0    46.0    46.0\n",
       "Month                            4.0     5.0     6.0     7.0     8.0\n",
       "days_between                     0.0    30.0    31.0    30.0    31.0\n",
       "recurrencia                      1.0     2.0     3.0     4.0     5.0\n",
       "Year                          2018.0  2018.0  2018.0  2018.0  2018.0\n",
       "Productos_credit_card            0.0     0.0     0.0     0.0     0.0\n",
       "Productos_debit_card             0.0     0.0     0.0     0.0     0.0\n",
       "Productos_em_account_p           0.0     0.0     0.0     0.0     0.0\n",
       "Productos_em_acount              0.0     0.0     0.0     0.0     0.0\n",
       "Productos_emc_account            0.0     0.0     0.0     0.0     0.0\n",
       "Productos_funds                  0.0     0.0     0.0     0.0     0.0\n",
       "Productos_loans                  0.0     0.0     0.0     0.0     0.0\n",
       "Productos_long_term_deposit      0.0     0.0     0.0     1.0     1.0\n",
       "Productos_mortgage               0.0     0.0     0.0     0.0     0.0\n",
       "Productos_payroll                0.0     0.0     0.0     0.0     0.0\n",
       "Productos_payroll_account        0.0     0.0     0.0     0.0     0.0\n",
       "Productos_pension_plan           0.0     0.0     0.0     0.0     0.0\n",
       "Productos_securities             0.0     0.0     0.0     0.0     0.0\n",
       "Productos_short_term_deposit     1.0     1.0     1.0     0.0     0.0\n",
       "entry_channel_                   0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_004                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_007                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_013                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAA                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAB                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAD                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAE                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAF                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAG                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAH                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAJ                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAK                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAM                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAQ                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAR                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAS                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAT                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAW                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAY                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KAZ                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBE                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBG                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBH                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBO                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBW                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KBZ                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCB                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCC                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCH                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCI                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCK                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KCL                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KDA                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KDH                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KDR                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KDT                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KEH                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KEY                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFA                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFC                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFD                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFK                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFL                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KFS                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KGC                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KGN                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KGX                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHC                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHD                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHE                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHF                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHK                1.0     1.0     1.0     1.0     1.0\n",
       "entry_channel_KHL                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHM                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHN                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHO                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHP                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_KHQ                0.0     0.0     0.0     0.0     0.0\n",
       "entry_channel_RED                0.0     0.0     0.0     0.0     0.0\n",
       "gender_H                         0.0     0.0     0.0     0.0     0.0\n",
       "gender_V                         1.0     1.0     1.0     1.0     1.0\n",
       "deceased_N                       1.0     1.0     1.0     1.0     1.0\n",
       "deceased_S                       0.0     0.0     0.0     0.0     0.0\n",
       "customer_count                  28.0    28.0    28.0    28.0    28.0"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "      <th>2</th>\n",
       "      <th>3</th>\n",
       "      <th>4</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>días_encartera</th>\n",
       "      <td>20.0</td>\n",
       "      <td>50.0</td>\n",
       "      <td>81.0</td>\n",
       "      <td>111.0</td>\n",
       "      <td>142.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>region_code</th>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>age</th>\n",
       "      <td>46.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>46.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Month</th>\n",
       "      <td>4.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>8.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>days_between</th>\n",
       "      <td>0.0</td>\n",
       "      <td>30.0</td>\n",
       "      <td>31.0</td>\n",
       "      <td>30.0</td>\n",
       "      <td>31.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>recurrencia</th>\n",
       "      <td>1.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>5.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Year</th>\n",
       "      <td>2018.0</td>\n",
       "      <td>2018.0</td>\n",
       "      <td>2018.0</td>\n",
       "      <td>2018.0</td>\n",
       "      <td>2018.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_em_acount</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_emc_account</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_funds</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_loans</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_long_term_deposit</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_mortgage</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_payroll</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_payroll_account</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_pension_plan</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_securities</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_004</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_007</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_013</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAA</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAB</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAD</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAE</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAF</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAG</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAH</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAJ</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAK</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAM</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAQ</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAR</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAS</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAT</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAW</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAY</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KAZ</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBE</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBG</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBH</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBO</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBW</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KBZ</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCB</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCC</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCH</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCI</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCK</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KCL</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDA</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDH</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDR</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KDT</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KEH</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KEY</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFA</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFC</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFD</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFK</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFL</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KFS</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGC</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGN</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KGX</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHC</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHD</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHE</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHF</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHK</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHL</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHM</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>gender_H</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>gender_V</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>deceased_N</th>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>deceased_S</th>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>customer_count</th>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>28.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 120
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "# TRABAJEMOS LA CLASIFICACIÓN"
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "#### Para este caso, podemos por ejemplo validar con los últimos 6 meses de 2019 y utilizar 2018 y los 6 primeros de 2019 para realizar el entrenamiento del modelo (train y test). Para seleccionarlo, utilizaremos de nuevo el boolean indexing"
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "### Trabajemos con Decition Three"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 121,
   "source": [
    "df[df[Target]==1][Target].describe()\r\n",
    "\r\n",
    "\r\n"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "count    15394.0\n",
       "mean         1.0\n",
       "std          0.0\n",
       "min          1.0\n",
       "25%          1.0\n",
       "50%          1.0\n",
       "75%          1.0\n",
       "max          1.0\n",
       "Name: Productos_short_term_deposit, dtype: float64"
      ]
     },
     "metadata": {},
     "execution_count": 121
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 122,
   "source": [
    "\r\n",
    "df[df[Target]==0][Target].describe()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "count    6239124.0\n",
       "mean           0.0\n",
       "std            0.0\n",
       "min            0.0\n",
       "25%            0.0\n",
       "50%            0.0\n",
       "75%            0.0\n",
       "max            0.0\n",
       "Name: Productos_short_term_deposit, dtype: float64"
      ]
     },
     "metadata": {},
     "execution_count": 122
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 123,
   "source": [
    "df['Compra'] = (df[Target] == 1).astype(int)#esta variable es un indicador que me indica cuando alguien ha comprado, la creamos a partir del target. Cuando entrenemos el modelo esta variable no puede estar porque qle seria facil predecir.\r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 124,
   "source": [
    "count_transac= df['Compra'].count()\r\n",
    "sum_transac= df['Compra'].sum()\r\n",
    "mean_transac= df['Compra'].mean()\r\n",
    "print(f\"hay un total de {count_transac}visitas, de las cuales {sum_transac} acaban con compra, lo que representa un {round(mean_transac*100,4)}%\")"
   ],
   "outputs": [
    {
     "output_type": "stream",
     "name": "stdout",
     "text": [
      "hay un total de 6254518visitas, de las cuales 15394 acaban con compra, lo que representa un 0.2461%\n"
     ]
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 125,
   "source": [
    "df.drop('Compra',axis=1,inplace=True)"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "source": [
    "dev_df = df[(df['Year'] == 2018) | ((df['Year'] == 2019) & (df['Month'] < 4)) ] # development = train + test\r\n",
    "val_df = df[(df['Year'] == 2019) & (df['Month'] >= 4)] # validation"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "Una vez realizada la selección de particiones, vamos a asignar los atributos y el target a las variables X e y, respectivamente.\\\r\n",
    "Para seleccionar, utilizaremos el método Drop sin el atributo inplace y haciendo asignación y la indexación directa (ojo con el doble claudator, usaremos un DataFrame... si usasemos el claudator simple sacaríamos una Serie)."
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 127,
   "source": [
    "dev_df.shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "(5383155, 86)"
      ]
     },
     "metadata": {},
     "execution_count": 127
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 128,
   "source": [
    "dev_df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         días_encartera  region_code  age  Month  days_between  recurrencia  \\\n",
       "0                  20.0         28.0   46      4           0.0            1   \n",
       "1                  50.0         28.0   46      5          30.0            2   \n",
       "2                  81.0         28.0   46      6          31.0            3   \n",
       "3                 111.0         28.0   46      7          30.0            4   \n",
       "4                 142.0         28.0   46      8          31.0            5   \n",
       "...                 ...          ...  ...    ...           ...          ...   \n",
       "6254511           696.0         48.0   39     11          31.0           11   \n",
       "6254512           726.0         48.0   40     12          30.0           12   \n",
       "6254513           757.0         48.0   40      1          31.0           13   \n",
       "6254514           788.0         48.0   40      2          31.0           14   \n",
       "6254515           816.0         48.0   40      3          28.0           15   \n",
       "\n",
       "         Year  Productos_credit_card  Productos_debit_card  \\\n",
       "0        2018                      0                     0   \n",
       "1        2018                      0                     0   \n",
       "2        2018                      0                     0   \n",
       "3        2018                      0                     0   \n",
       "4        2018                      0                     0   \n",
       "...       ...                    ...                   ...   \n",
       "6254511  2018                      0                     0   \n",
       "6254512  2018                      0                     0   \n",
       "6254513  2019                      0                     0   \n",
       "6254514  2019                      0                     0   \n",
       "6254515  2019                      0                     0   \n",
       "\n",
       "         Productos_em_account_p  ...  entry_channel_KHN  entry_channel_KHO  \\\n",
       "0                             0  ...                  0                  0   \n",
       "1                             0  ...                  0                  0   \n",
       "2                             0  ...                  0                  0   \n",
       "3                             0  ...                  0                  0   \n",
       "4                             0  ...                  0                  0   \n",
       "...                         ...  ...                ...                ...   \n",
       "6254511                       0  ...                  0                  0   \n",
       "6254512                       0  ...                  0                  0   \n",
       "6254513                       0  ...                  0                  0   \n",
       "6254514                       0  ...                  0                  0   \n",
       "6254515                       0  ...                  0                  0   \n",
       "\n",
       "         entry_channel_KHP  entry_channel_KHQ  entry_channel_RED  gender_H  \\\n",
       "0                        0                  0                  0         0   \n",
       "1                        0                  0                  0         0   \n",
       "2                        0                  0                  0         0   \n",
       "3                        0                  0                  0         0   \n",
       "4                        0                  0                  0         0   \n",
       "...                    ...                ...                ...       ...   \n",
       "6254511                  0                  0                  0         0   \n",
       "6254512                  0                  0                  0         0   \n",
       "6254513                  0                  0                  0         0   \n",
       "6254514                  0                  0                  0         0   \n",
       "6254515                  0                  0                  0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "0               1           1           0              28  \n",
       "1               1           1           0              28  \n",
       "2               1           1           0              28  \n",
       "3               1           1           0              28  \n",
       "4               1           1           0              28  \n",
       "...           ...         ...         ...             ...  \n",
       "6254511         1           1           0              17  \n",
       "6254512         1           1           0              17  \n",
       "6254513         1           1           0              17  \n",
       "6254514         1           1           0              17  \n",
       "6254515         1           1           0              17  \n",
       "\n",
       "[5383155 rows x 86 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>Year</th>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <th>...</th>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>20.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>4</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>50.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>81.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>111.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>7</td>\n",
       "      <td>30.0</td>\n",
       "      <td>4</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>142.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>8</td>\n",
       "      <td>31.0</td>\n",
       "      <td>5</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254511</th>\n",
       "      <td>696.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>39</td>\n",
       "      <td>11</td>\n",
       "      <td>31.0</td>\n",
       "      <td>11</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254512</th>\n",
       "      <td>726.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>12</td>\n",
       "      <td>30.0</td>\n",
       "      <td>12</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254513</th>\n",
       "      <td>757.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>1</td>\n",
       "      <td>31.0</td>\n",
       "      <td>13</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254514</th>\n",
       "      <td>788.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>2</td>\n",
       "      <td>31.0</td>\n",
       "      <td>14</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254515</th>\n",
       "      <td>816.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>15</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5383155 rows × 86 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 128
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 129,
   "source": [
    "val_df.shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "(871363, 86)"
      ]
     },
     "metadata": {},
     "execution_count": 129
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "source": [
    "val_df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         días_encartera  region_code  age  Month  days_between  recurrencia  \\\n",
       "12                385.0         28.0   47      4          31.0           13   \n",
       "13                415.0         28.0   47      5          30.0           14   \n",
       "26                385.0         28.0   47      4          31.0           27   \n",
       "27                415.0         28.0   47      5          30.0           28   \n",
       "41               1539.0          3.0   30      4          31.0           10   \n",
       "...                 ...          ...  ...    ...           ...          ...   \n",
       "6254487          1053.0         46.0   34      5          30.0           17   \n",
       "6254499           356.0         41.0   37      4          31.0           12   \n",
       "6254500           386.0         41.0   37      5          30.0           13   \n",
       "6254516           847.0         48.0   40      4          31.0           16   \n",
       "6254517           877.0         48.0   40      5          30.0           17   \n",
       "\n",
       "         Year  Productos_credit_card  Productos_debit_card  \\\n",
       "12       2019                      0                     0   \n",
       "13       2019                      0                     0   \n",
       "26       2019                      0                     0   \n",
       "27       2019                      0                     0   \n",
       "41       2019                      0                     0   \n",
       "...       ...                    ...                   ...   \n",
       "6254487  2019                      0                     0   \n",
       "6254499  2019                      0                     0   \n",
       "6254500  2019                      0                     0   \n",
       "6254516  2019                      0                     0   \n",
       "6254517  2019                      0                     0   \n",
       "\n",
       "         Productos_em_account_p  ...  entry_channel_KHN  entry_channel_KHO  \\\n",
       "12                            0  ...                  0                  0   \n",
       "13                            0  ...                  0                  0   \n",
       "26                            0  ...                  0                  0   \n",
       "27                            0  ...                  0                  0   \n",
       "41                            0  ...                  0                  0   \n",
       "...                         ...  ...                ...                ...   \n",
       "6254487                       0  ...                  0                  0   \n",
       "6254499                       0  ...                  0                  0   \n",
       "6254500                       0  ...                  0                  0   \n",
       "6254516                       0  ...                  0                  0   \n",
       "6254517                       0  ...                  0                  0   \n",
       "\n",
       "         entry_channel_KHP  entry_channel_KHQ  entry_channel_RED  gender_H  \\\n",
       "12                       0                  0                  0         0   \n",
       "13                       0                  0                  0         0   \n",
       "26                       0                  0                  0         0   \n",
       "27                       0                  0                  0         0   \n",
       "41                       0                  0                  1         0   \n",
       "...                    ...                ...                ...       ...   \n",
       "6254487                  0                  0                  0         0   \n",
       "6254499                  0                  0                  0         0   \n",
       "6254500                  0                  0                  0         0   \n",
       "6254516                  0                  0                  0         0   \n",
       "6254517                  0                  0                  0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "12              1           1           0              28  \n",
       "13              1           1           0              28  \n",
       "26              1           1           0              28  \n",
       "27              1           1           0              28  \n",
       "41              1           1           0              48  \n",
       "...           ...         ...         ...             ...  \n",
       "6254487         1           1           0              17  \n",
       "6254499         1           1           0              13  \n",
       "6254500         1           1           0              13  \n",
       "6254516         1           1           0              17  \n",
       "6254517         1           1           0              17  \n",
       "\n",
       "[871363 rows x 86 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>Year</th>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <th>...</th>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>385.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>47</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>13</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>415.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>47</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>14</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>385.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>47</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>27</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>415.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>47</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>28</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>41</th>\n",
       "      <td>1539.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>30</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>10</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>48</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254487</th>\n",
       "      <td>1053.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>34</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>17</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254499</th>\n",
       "      <td>356.0</td>\n",
       "      <td>41.0</td>\n",
       "      <td>37</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>12</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254500</th>\n",
       "      <td>386.0</td>\n",
       "      <td>41.0</td>\n",
       "      <td>37</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>13</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>13</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254516</th>\n",
       "      <td>847.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>16</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254517</th>\n",
       "      <td>877.0</td>\n",
       "      <td>48.0</td>\n",
       "      <td>40</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>17</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>871363 rows × 86 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 130
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "## Veamos el balanceo con respecto al target"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 131,
   "source": [
    "dev_df_1 = dev_df[dev_df[Target]==1]\r\n",
    "dev_df_0 = dev_df[dev_df[Target]==0]\r\n",
    "\r\n",
    "dev_df_0_shape = dev_df_0.shape[0]\r\n",
    "dev_df_0_shape\r\n",
    "\r\n",
    "dev_df_1_shape = dev_df_1.shape[0]\r\n",
    "dev_df_1_shape\r\n",
    "prop = dev_df_0_shape/dev_df_1_shape\r\n",
    "prop"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "348.78265107212474"
      ]
     },
     "metadata": {},
     "execution_count": 131
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 132,
   "source": [
    "dev_df_0_shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "5367765"
      ]
     },
     "metadata": {},
     "execution_count": 132
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "source": [
    "dev_df_1_shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "15390"
      ]
     },
     "metadata": {},
     "execution_count": 133
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "source": [
    "5198926/184229"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "28.21991108891651"
      ]
     },
     "metadata": {},
     "execution_count": 134
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "source": [
    "RANDOM_STATE = 42\r\n",
    "\r\n",
    "if dev_df_1_shape > dev_df_0_shape:\r\n",
    "    dev_df_1_sample = dev_df_1.sample(n=dev_df_0_shape, random_state=RANDOM_STATE)\r\n",
    "    dev_df_1_shape = dev_df_1_sample.shape[0]\r\n",
    "    dev_df_sample = pd.concat([dev_df_0,dev_df_1_sample])\r\n",
    "\r\n",
    "else:\r\n",
    "    dev_df_0_sample = dev_df_0.sample(n=dev_df_1_shape, random_state=RANDOM_STATE)\r\n",
    "    dev_df_sample = pd.concat([dev_df_1,dev_df_0_sample])\r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "source": [
    "dev_df =dev_df_sample"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "source": [
    "dev_df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         días_encartera  region_code  age  Month  days_between  recurrencia  \\\n",
       "0                  20.0         28.0   46      4           0.0            1   \n",
       "1                  50.0         28.0   46      5          30.0            2   \n",
       "2                  81.0         28.0   46      6          31.0            3   \n",
       "28               1337.0         28.0   33      9           0.0            1   \n",
       "29               1367.0         28.0   33     10          30.0            2   \n",
       "...                 ...          ...  ...    ...           ...          ...   \n",
       "5339222           261.0         18.0   21      6          31.0            6   \n",
       "6185482            73.0          8.0   20      1           0.0            1   \n",
       "5724664           160.0          7.0   20     12          30.0            6   \n",
       "4110823           729.0         32.0   22      8          31.0            8   \n",
       "3270812           915.0         21.0   33      3          28.0            3   \n",
       "\n",
       "         Year  Productos_credit_card  Productos_debit_card  \\\n",
       "0        2018                      0                     0   \n",
       "1        2018                      0                     0   \n",
       "2        2018                      0                     0   \n",
       "28       2018                      0                     0   \n",
       "29       2018                      0                     0   \n",
       "...       ...                    ...                   ...   \n",
       "5339222  2018                      0                     0   \n",
       "6185482  2019                      0                     0   \n",
       "5724664  2018                      0                     0   \n",
       "4110823  2018                      0                     0   \n",
       "3270812  2018                      0                     0   \n",
       "\n",
       "         Productos_em_account_p  ...  entry_channel_KHN  entry_channel_KHO  \\\n",
       "0                             0  ...                  0                  0   \n",
       "1                             0  ...                  0                  0   \n",
       "2                             0  ...                  0                  0   \n",
       "28                            0  ...                  0                  0   \n",
       "29                            0  ...                  0                  0   \n",
       "...                         ...  ...                ...                ...   \n",
       "5339222                       0  ...                  0                  0   \n",
       "6185482                       0  ...                  0                  0   \n",
       "5724664                       0  ...                  0                  0   \n",
       "4110823                       0  ...                  0                  0   \n",
       "3270812                       0  ...                  0                  0   \n",
       "\n",
       "         entry_channel_KHP  entry_channel_KHQ  entry_channel_RED  gender_H  \\\n",
       "0                        0                  0                  0         0   \n",
       "1                        0                  0                  0         0   \n",
       "2                        0                  0                  0         0   \n",
       "28                       0                  0                  0         1   \n",
       "29                       0                  0                  0         1   \n",
       "...                    ...                ...                ...       ...   \n",
       "5339222                  0                  0                  0         1   \n",
       "6185482                  0                  1                  0         0   \n",
       "5724664                  0                  1                  0         0   \n",
       "4110823                  0                  0                  0         1   \n",
       "3270812                  0                  0                  0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "0               1           1           0              28  \n",
       "1               1           1           0              28  \n",
       "2               1           1           0              28  \n",
       "28              0           1           0               4  \n",
       "29              0           1           0               4  \n",
       "...           ...         ...         ...             ...  \n",
       "5339222         0           1           0              17  \n",
       "6185482         1           1           0               5  \n",
       "5724664         1           1           0              11  \n",
       "4110823         0           1           0              17  \n",
       "3270812         1           1           0              17  \n",
       "\n",
       "[30780 rows x 86 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>Year</th>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <th>...</th>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>20.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>4</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>50.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>81.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>1337.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>9</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>1367.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>10</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5339222</th>\n",
       "      <td>261.0</td>\n",
       "      <td>18.0</td>\n",
       "      <td>21</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>6</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6185482</th>\n",
       "      <td>73.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>20</td>\n",
       "      <td>1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5724664</th>\n",
       "      <td>160.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>20</td>\n",
       "      <td>12</td>\n",
       "      <td>30.0</td>\n",
       "      <td>6</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4110823</th>\n",
       "      <td>729.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>22</td>\n",
       "      <td>8</td>\n",
       "      <td>31.0</td>\n",
       "      <td>8</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3270812</th>\n",
       "      <td>915.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>30780 rows × 86 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 137
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "source": [
    "dev_df_X = dev_df.drop(Target, axis = 1)\r\n",
    "dev_df_y = dev_df[[Target]]"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "a22f7811-3145-414a-b107-369226302a76"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "source": [
    "val_df_X = val_df.drop(Target, axis = 1)\r\n",
    "val_df_y = val_df[[Target]]"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "8d2f1b95-66bd-4c25-88ab-6b5d2ac9ca5c",
    "tags": []
   }
  },
  {
   "cell_type": "code",
   "execution_count": 140,
   "source": [
    "dev_df_X"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         días_encartera  region_code  age  Month  days_between  recurrencia  \\\n",
       "0                  20.0         28.0   46      4           0.0            1   \n",
       "1                  50.0         28.0   46      5          30.0            2   \n",
       "2                  81.0         28.0   46      6          31.0            3   \n",
       "28               1337.0         28.0   33      9           0.0            1   \n",
       "29               1367.0         28.0   33     10          30.0            2   \n",
       "...                 ...          ...  ...    ...           ...          ...   \n",
       "5339222           261.0         18.0   21      6          31.0            6   \n",
       "6185482            73.0          8.0   20      1           0.0            1   \n",
       "5724664           160.0          7.0   20     12          30.0            6   \n",
       "4110823           729.0         32.0   22      8          31.0            8   \n",
       "3270812           915.0         21.0   33      3          28.0            3   \n",
       "\n",
       "         Year  Productos_credit_card  Productos_debit_card  \\\n",
       "0        2018                      0                     0   \n",
       "1        2018                      0                     0   \n",
       "2        2018                      0                     0   \n",
       "28       2018                      0                     0   \n",
       "29       2018                      0                     0   \n",
       "...       ...                    ...                   ...   \n",
       "5339222  2018                      0                     0   \n",
       "6185482  2019                      0                     0   \n",
       "5724664  2018                      0                     0   \n",
       "4110823  2018                      0                     0   \n",
       "3270812  2018                      0                     0   \n",
       "\n",
       "         Productos_em_account_p  ...  entry_channel_KHN  entry_channel_KHO  \\\n",
       "0                             0  ...                  0                  0   \n",
       "1                             0  ...                  0                  0   \n",
       "2                             0  ...                  0                  0   \n",
       "28                            0  ...                  0                  0   \n",
       "29                            0  ...                  0                  0   \n",
       "...                         ...  ...                ...                ...   \n",
       "5339222                       0  ...                  0                  0   \n",
       "6185482                       0  ...                  0                  0   \n",
       "5724664                       0  ...                  0                  0   \n",
       "4110823                       0  ...                  0                  0   \n",
       "3270812                       0  ...                  0                  0   \n",
       "\n",
       "         entry_channel_KHP  entry_channel_KHQ  entry_channel_RED  gender_H  \\\n",
       "0                        0                  0                  0         0   \n",
       "1                        0                  0                  0         0   \n",
       "2                        0                  0                  0         0   \n",
       "28                       0                  0                  0         1   \n",
       "29                       0                  0                  0         1   \n",
       "...                    ...                ...                ...       ...   \n",
       "5339222                  0                  0                  0         1   \n",
       "6185482                  0                  1                  0         0   \n",
       "5724664                  0                  1                  0         0   \n",
       "4110823                  0                  0                  0         1   \n",
       "3270812                  0                  0                  0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "0               1           1           0              28  \n",
       "1               1           1           0              28  \n",
       "2               1           1           0              28  \n",
       "28              0           1           0               4  \n",
       "29              0           1           0               4  \n",
       "...           ...         ...         ...             ...  \n",
       "5339222         0           1           0              17  \n",
       "6185482         1           1           0               5  \n",
       "5724664         1           1           0              11  \n",
       "4110823         0           1           0              17  \n",
       "3270812         1           1           0              17  \n",
       "\n",
       "[30780 rows x 85 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>Year</th>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <th>...</th>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>20.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>4</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>50.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>81.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>46</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>28</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>1337.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>9</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>1367.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>33</td>\n",
       "      <td>10</td>\n",
       "      <td>30.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5339222</th>\n",
       "      <td>261.0</td>\n",
       "      <td>18.0</td>\n",
       "      <td>21</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>6</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6185482</th>\n",
       "      <td>73.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>20</td>\n",
       "      <td>1</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5724664</th>\n",
       "      <td>160.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>20</td>\n",
       "      <td>12</td>\n",
       "      <td>30.0</td>\n",
       "      <td>6</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4110823</th>\n",
       "      <td>729.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>22</td>\n",
       "      <td>8</td>\n",
       "      <td>31.0</td>\n",
       "      <td>8</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3270812</th>\n",
       "      <td>915.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>33</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>30780 rows × 85 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 140
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 141,
   "source": [
    "dev_df_y"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Productos_short_term_deposit\n",
       "0                                   1\n",
       "1                                   1\n",
       "2                                   1\n",
       "28                                  1\n",
       "29                                  1\n",
       "...                               ...\n",
       "5339222                             0\n",
       "6185482                             0\n",
       "5724664                             0\n",
       "4110823                             0\n",
       "3270812                             0\n",
       "\n",
       "[30780 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5339222</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6185482</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5724664</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4110823</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3270812</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>30780 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 141
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 142,
   "source": [
    "from sklearn import model_selection\r\n",
    "from sklearn import metrics"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "c6ca6d62-df28-4364-9757-7f4b23c4968b"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 143,
   "source": [
    "X_train, X_test, y_train, y_test = model_selection.train_test_split(dev_df_X, dev_df_y, test_size=0.2, random_state=42)"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "8b4613eb-6989-42fe-8cc7-21888f9f7b88"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 144,
   "source": [
    "X_train"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         días_encartera  region_code  age  Month  days_between  recurrencia  \\\n",
       "48607             102.0         20.0   56      6          31.0            3   \n",
       "37332              47.0         15.0   55      3          28.0            2   \n",
       "64718              86.0         13.0   41      8          31.0            3   \n",
       "3371917          1211.0          8.0   23      1          31.0           13   \n",
       "33627             144.0         45.0   77      6          31.0            3   \n",
       "...                 ...          ...  ...    ...           ...          ...   \n",
       "3289349           974.0          3.0   23      5          30.0            5   \n",
       "38955              45.0         28.0   32      3           0.0            1   \n",
       "6521              207.0         28.0   56      4          31.0            4   \n",
       "868917           1246.0          1.0   37     10         273.0            2   \n",
       "5929424            79.0         22.0   20     11          31.0            3   \n",
       "\n",
       "         Year  Productos_credit_card  Productos_debit_card  \\\n",
       "48607    2018                      0                     0   \n",
       "37332    2018                      0                     0   \n",
       "64718    2018                      0                     0   \n",
       "3371917  2019                      0                     0   \n",
       "33627    2018                      0                     0   \n",
       "...       ...                    ...                   ...   \n",
       "3289349  2018                      0                     0   \n",
       "38955    2018                      0                     0   \n",
       "6521     2018                      0                     0   \n",
       "868917   2018                      0                     0   \n",
       "5929424  2018                      0                     0   \n",
       "\n",
       "         Productos_em_account_p  ...  entry_channel_KHN  entry_channel_KHO  \\\n",
       "48607                         0  ...                  0                  0   \n",
       "37332                         0  ...                  0                  0   \n",
       "64718                         0  ...                  1                  0   \n",
       "3371917                       0  ...                  0                  0   \n",
       "33627                         0  ...                  0                  0   \n",
       "...                         ...  ...                ...                ...   \n",
       "3289349                       0  ...                  0                  0   \n",
       "38955                         0  ...                  0                  0   \n",
       "6521                          0  ...                  0                  0   \n",
       "868917                        0  ...                  0                  0   \n",
       "5929424                       0  ...                  0                  0   \n",
       "\n",
       "         entry_channel_KHP  entry_channel_KHQ  entry_channel_RED  gender_H  \\\n",
       "48607                    0                  0                  0         1   \n",
       "37332                    0                  0                  0         1   \n",
       "64718                    0                  0                  0         0   \n",
       "3371917                  0                  0                  0         1   \n",
       "33627                    0                  0                  0         1   \n",
       "...                    ...                ...                ...       ...   \n",
       "3289349                  0                  0                  0         1   \n",
       "38955                    0                  0                  0         1   \n",
       "6521                     0                  0                  0         0   \n",
       "868917                   0                  0                  0         1   \n",
       "5929424                  0                  1                  0         0   \n",
       "\n",
       "         gender_V  deceased_N  deceased_S  customer_count  \n",
       "48607           0           1           0              18  \n",
       "37332           0           1           0              16  \n",
       "64718           1           1           0              23  \n",
       "3371917         0           1           0              17  \n",
       "33627           0           1           0              11  \n",
       "...           ...         ...         ...             ...  \n",
       "3289349         0           1           0              17  \n",
       "38955           0           1           0               7  \n",
       "6521            1           1           0              75  \n",
       "868917          0           1           0              60  \n",
       "5929424         1           1           0               9  \n",
       "\n",
       "[24624 rows x 85 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>días_encartera</th>\n",
       "      <th>region_code</th>\n",
       "      <th>age</th>\n",
       "      <th>Month</th>\n",
       "      <th>days_between</th>\n",
       "      <th>recurrencia</th>\n",
       "      <th>Year</th>\n",
       "      <th>Productos_credit_card</th>\n",
       "      <th>Productos_debit_card</th>\n",
       "      <th>Productos_em_account_p</th>\n",
       "      <th>...</th>\n",
       "      <th>entry_channel_KHN</th>\n",
       "      <th>entry_channel_KHO</th>\n",
       "      <th>entry_channel_KHP</th>\n",
       "      <th>entry_channel_KHQ</th>\n",
       "      <th>entry_channel_RED</th>\n",
       "      <th>gender_H</th>\n",
       "      <th>gender_V</th>\n",
       "      <th>deceased_N</th>\n",
       "      <th>deceased_S</th>\n",
       "      <th>customer_count</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>48607</th>\n",
       "      <td>102.0</td>\n",
       "      <td>20.0</td>\n",
       "      <td>56</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>18</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>37332</th>\n",
       "      <td>47.0</td>\n",
       "      <td>15.0</td>\n",
       "      <td>55</td>\n",
       "      <td>3</td>\n",
       "      <td>28.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>16</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>64718</th>\n",
       "      <td>86.0</td>\n",
       "      <td>13.0</td>\n",
       "      <td>41</td>\n",
       "      <td>8</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>23</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3371917</th>\n",
       "      <td>1211.0</td>\n",
       "      <td>8.0</td>\n",
       "      <td>23</td>\n",
       "      <td>1</td>\n",
       "      <td>31.0</td>\n",
       "      <td>13</td>\n",
       "      <td>2019</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33627</th>\n",
       "      <td>144.0</td>\n",
       "      <td>45.0</td>\n",
       "      <td>77</td>\n",
       "      <td>6</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>11</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3289349</th>\n",
       "      <td>974.0</td>\n",
       "      <td>3.0</td>\n",
       "      <td>23</td>\n",
       "      <td>5</td>\n",
       "      <td>30.0</td>\n",
       "      <td>5</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>17</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38955</th>\n",
       "      <td>45.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>32</td>\n",
       "      <td>3</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6521</th>\n",
       "      <td>207.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>56</td>\n",
       "      <td>4</td>\n",
       "      <td>31.0</td>\n",
       "      <td>4</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>75</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>868917</th>\n",
       "      <td>1246.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>37</td>\n",
       "      <td>10</td>\n",
       "      <td>273.0</td>\n",
       "      <td>2</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>60</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5929424</th>\n",
       "      <td>79.0</td>\n",
       "      <td>22.0</td>\n",
       "      <td>20</td>\n",
       "      <td>11</td>\n",
       "      <td>31.0</td>\n",
       "      <td>3</td>\n",
       "      <td>2018</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>...</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>0</td>\n",
       "      <td>9</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>24624 rows × 85 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 144
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 145,
   "source": [
    "y_train"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Productos_short_term_deposit\n",
       "48607                               1\n",
       "37332                               1\n",
       "64718                               1\n",
       "3371917                             0\n",
       "33627                               1\n",
       "...                               ...\n",
       "3289349                             0\n",
       "38955                               1\n",
       "6521                                1\n",
       "868917                              0\n",
       "5929424                             0\n",
       "\n",
       "[24624 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>48607</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>37332</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>64718</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3371917</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>33627</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3289349</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>38955</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6521</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>868917</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5929424</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>24624 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 145
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 146,
   "source": [
    "y_train.describe().T.head()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "                                count     mean      std  min  25%  50%  75%  \\\n",
       "Productos_short_term_deposit  24624.0  0.49935  0.50001  0.0  0.0  0.0  1.0   \n",
       "\n",
       "                              max  \n",
       "Productos_short_term_deposit  1.0  "
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>count</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>min</th>\n",
       "      <th>25%</th>\n",
       "      <th>50%</th>\n",
       "      <th>75%</th>\n",
       "      <th>max</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <td>24624.0</td>\n",
       "      <td>0.49935</td>\n",
       "      <td>0.50001</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 146
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 147,
   "source": [
    "y_test.describe().T.head()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "                               count      mean       std  min  25%  50%  75%  \\\n",
       "Productos_short_term_deposit  6156.0  0.502599  0.500034  0.0  0.0  1.0  1.0   \n",
       "\n",
       "                              max  \n",
       "Productos_short_term_deposit  1.0  "
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>count</th>\n",
       "      <th>mean</th>\n",
       "      <th>std</th>\n",
       "      <th>min</th>\n",
       "      <th>25%</th>\n",
       "      <th>50%</th>\n",
       "      <th>75%</th>\n",
       "      <th>max</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <td>6156.0</td>\n",
       "      <td>0.502599</td>\n",
       "      <td>0.500034</td>\n",
       "      <td>0.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>1.0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 147
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    " ##  MODEL SELECTION\r\n",
    " ### Importar los scikits de modelización\r\n"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 148,
   "source": [
    "from sklearn.tree import DecisionTreeClassifier\r\n",
    "from sklearn.tree import export_graphviz\r\n",
    "import graphviz"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "4e078a97-54c0-4544-87f4-e15583afc390"
   }
  },
  {
   "cell_type": "markdown",
   "source": [
    "### Decision Three"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 149,
   "source": [
    "dt = DecisionTreeClassifier(\r\n",
    "\r\n",
    "                 #criterion=\"gini\",\r\n",
    "                 #splitter=\"best\",\r\n",
    "                 max_depth= 8, # número de preguntas que realiza el algoritmo\r\n",
    "                 #min_samples_split=2, # numero de obs minimas en cada particion\r\n",
    "                 min_samples_leaf=50,\r\n",
    "                 #min_weight_fraction_leaf=0.,\r\n",
    "                 #max_features=None, #numero de variables a evaluar en cada iteracion\r\n",
    "                 random_state=42\r\n",
    "                 #max_leaf_nodes=None,\r\n",
    "                 #min_impurity_decrease=0.,\r\n",
    "                 #min_impurity_split=None,\r\n",
    "                 #class_weight=None,\r\n",
    "                 #presort='deprecated'\r\n",
    ")"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "eb325d69-02f7-418f-9e43-35f305662d98"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 150,
   "source": [
    "len(X_train.columns)"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "85"
      ]
     },
     "metadata": {},
     "execution_count": 150
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 151,
   "source": [
    "dt.fit(\r\n",
    "    X=X_train, \r\n",
    "    y=y_train, \r\n",
    "    # sample_weight=None, \r\n",
    "    # check_input=True, \r\n",
    "    # X_idx_sorted=None\r\n",
    ")"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "DecisionTreeClassifier(max_depth=8, min_samples_leaf=50, random_state=42)"
      ]
     },
     "metadata": {},
     "execution_count": 151
    }
   ],
   "metadata": {
    "azdata_cell_guid": "87f3948f-b65c-43c5-8a1e-255eb6fb79f7"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 152,
   "source": [
    "dot_data = export_graphviz(\r\n",
    "                        decision_tree = dt,\r\n",
    "                        out_file=None,\r\n",
    "                        # max_depth=None,\r\n",
    "                        feature_names=X_test.columns,\r\n",
    "                        class_names=['Compra','No_compra'],\r\n",
    "                        # label='all',\r\n",
    "                        filled=True,\r\n",
    "                        # leaves_parallel=False,\r\n",
    "                        impurity=True,\r\n",
    "                        # node_ids=False,\r\n",
    "                        proportion=True,\r\n",
    "                        rotate=True,\r\n",
    "                        rounded=True,\r\n",
    "                        # special_characters=False,\r\n",
    "                        precision=4,\r\n",
    "                        )"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "b990c869-a10d-4d9a-9703-895d5e197c39"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 153,
   "source": [
    "graph = graphviz.Source(dot_data)\r\n",
    "graph"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "<graphviz.files.Source at 0x191e54c5700>"
      ],
      "image/svg+xml": "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\r\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<!-- Generated by graphviz version 2.38.0 (20140413.2041)\r\n -->\r\n<!-- Title: Tree Pages: 1 -->\r\n<svg width=\"1966pt\" height=\"1318pt\"\r\n viewBox=\"0.00 0.00 1966.00 1318.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n<g id=\"graph0\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 1314)\">\r\n<title>Tree</title>\r\n<polygon fill=\"white\" stroke=\"none\" points=\"-4,4 -4,-1314 1962,-1314 1962,4 -4,4\"/>\r\n<!-- 0 -->\r\n<g id=\"node1\" class=\"node\"><title>0</title>\r\n<path fill=\"#fffffe\" stroke=\"black\" d=\"M158,-623.5C158,-623.5 12,-623.5 12,-623.5 6,-623.5 0,-617.5 0,-611.5 0,-611.5 0,-552.5 0,-552.5 0,-546.5 6,-540.5 12,-540.5 12,-540.5 158,-540.5 158,-540.5 164,-540.5 170,-546.5 170,-552.5 170,-552.5 170,-611.5 170,-611.5 170,-617.5 164,-623.5 158,-623.5\"/>\r\n<text text-anchor=\"middle\" x=\"85\" y=\"-608.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">recurrencia &lt;= 3.5</text>\r\n<text text-anchor=\"middle\" x=\"85\" y=\"-593.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.5</text>\r\n<text text-anchor=\"middle\" x=\"85\" y=\"-578.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 100.0%</text>\r\n<text text-anchor=\"middle\" x=\"85\" y=\"-563.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.5006, 0.4994]</text>\r\n<text text-anchor=\"middle\" x=\"85\" y=\"-548.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 1 -->\r\n<g id=\"node2\" class=\"node\"><title>1</title>\r\n<path fill=\"#5eafea\" stroke=\"black\" d=\"M399,-674.5C399,-674.5 218,-674.5 218,-674.5 212,-674.5 206,-668.5 206,-662.5 206,-662.5 206,-603.5 206,-603.5 206,-597.5 212,-591.5 218,-591.5 218,-591.5 399,-591.5 399,-591.5 405,-591.5 411,-597.5 411,-603.5 411,-603.5 411,-662.5 411,-662.5 411,-668.5 405,-674.5 399,-674.5\"/>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-659.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_em_acount &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-644.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.2672</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-629.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 58.4%</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-614.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.1588, 0.8412]</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-599.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 0&#45;&gt;1 -->\r\n<g id=\"edge1\" class=\"edge\"><title>0&#45;&gt;1</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M170.055,-601.354C178.503,-603.299 187.171,-605.294 195.846,-607.292\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"195.102,-610.712 205.632,-609.545 196.672,-603.89 195.102,-610.712\"/>\r\n<text text-anchor=\"middle\" x=\"184.439\" y=\"-619.106\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">True</text>\r\n</g>\r\n<!-- 22 -->\r\n<g id=\"node23\" class=\"node\"><title>22</title>\r\n<path fill=\"#e6843d\" stroke=\"black\" d=\"M399,-573.5C399,-573.5 218,-573.5 218,-573.5 212,-573.5 206,-567.5 206,-561.5 206,-561.5 206,-502.5 206,-502.5 206,-496.5 212,-490.5 218,-490.5 218,-490.5 399,-490.5 399,-490.5 405,-490.5 411,-496.5 411,-502.5 411,-502.5 411,-561.5 411,-561.5 411,-567.5 405,-573.5 399,-573.5\"/>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-558.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_em_acount &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-543.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0386</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-528.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 41.6%</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-513.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9803, 0.0197]</text>\r\n<text text-anchor=\"middle\" x=\"308.5\" y=\"-498.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 0&#45;&gt;22 -->\r\n<g id=\"edge22\" class=\"edge\"><title>0&#45;&gt;22</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M170.055,-563.026C178.503,-561.119 187.171,-559.162 195.846,-557.204\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"196.648,-560.611 205.632,-554.995 195.107,-553.783 196.648,-560.611\"/>\r\n<text text-anchor=\"middle\" x=\"184.496\" y=\"-537.944\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">False</text>\r\n</g>\r\n<!-- 2 -->\r\n<g id=\"node3\" class=\"node\"><title>2</title>\r\n<path fill=\"#42a1e6\" stroke=\"black\" d=\"M637,-766.5C637,-766.5 459,-766.5 459,-766.5 453,-766.5 447,-760.5 447,-754.5 447,-754.5 447,-695.5 447,-695.5 447,-689.5 453,-683.5 459,-683.5 459,-683.5 637,-683.5 637,-683.5 643,-683.5 649,-689.5 649,-695.5 649,-695.5 649,-754.5 649,-754.5 649,-760.5 643,-766.5 637,-766.5\"/>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-751.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_debit_card &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-736.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0818</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-721.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 51.3%</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-706.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0427, 0.9573]</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-691.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 1&#45;&gt;2 -->\r\n<g id=\"edge2\" class=\"edge\"><title>1&#45;&gt;2</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M411.255,-672.417C419.946,-675.783 428.761,-679.198 437.509,-682.587\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"436.377,-685.901 446.966,-686.25 438.905,-679.374 436.377,-685.901\"/>\r\n</g>\r\n<!-- 21 -->\r\n<g id=\"node22\" class=\"node\"><title>21</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M596.5,-665C596.5,-665 499.5,-665 499.5,-665 493.5,-665 487.5,-659 487.5,-653 487.5,-653 487.5,-609 487.5,-609 487.5,-603 493.5,-597 499.5,-597 499.5,-597 596.5,-597 596.5,-597 602.5,-597 608.5,-603 608.5,-609 608.5,-609 608.5,-653 608.5,-653 608.5,-659 602.5,-665 596.5,-665\"/>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-649.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-634.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 7.1%</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-619.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-604.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 1&#45;&gt;21 -->\r\n<g id=\"edge21\" class=\"edge\"><title>1&#45;&gt;21</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M411.255,-632.143C433.442,-631.956 456.437,-631.763 477.056,-631.589\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"477.318,-635.087 487.288,-631.503 477.259,-628.087 477.318,-635.087\"/>\r\n</g>\r\n<!-- 3 -->\r\n<g id=\"node4\" class=\"node\"><title>3</title>\r\n<path fill=\"#3fa0e6\" stroke=\"black\" d=\"M849,-852.5C849,-852.5 697,-852.5 697,-852.5 691,-852.5 685,-846.5 685,-840.5 685,-840.5 685,-781.5 685,-781.5 685,-775.5 691,-769.5 697,-769.5 697,-769.5 849,-769.5 849,-769.5 855,-769.5 861,-775.5 861,-781.5 861,-781.5 861,-840.5 861,-840.5 861,-846.5 855,-852.5 849,-852.5\"/>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-837.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_payroll &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-822.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0548</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-807.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 50.5%</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-792.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0282, 0.9718]</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-777.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 2&#45;&gt;3 -->\r\n<g id=\"edge3\" class=\"edge\"><title>2&#45;&gt;3</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M649.085,-763.598C657.843,-766.975 666.696,-770.389 675.425,-773.756\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"674.248,-777.053 684.837,-777.386 676.767,-770.522 674.248,-777.053\"/>\r\n</g>\r\n<!-- 20 -->\r\n<g id=\"node21\" class=\"node\"><title>20</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M821.5,-751C821.5,-751 724.5,-751 724.5,-751 718.5,-751 712.5,-745 712.5,-739 712.5,-739 712.5,-695 712.5,-695 712.5,-689 718.5,-683 724.5,-683 724.5,-683 821.5,-683 821.5,-683 827.5,-683 833.5,-689 833.5,-695 833.5,-695 833.5,-739 833.5,-739 833.5,-745 827.5,-751 821.5,-751\"/>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-735.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-720.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.8%</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-705.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-690.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 2&#45;&gt;20 -->\r\n<g id=\"edge20\" class=\"edge\"><title>2&#45;&gt;20</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M649.085,-721.41C667.015,-720.766 685.344,-720.109 702.189,-719.504\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"702.601,-722.992 712.47,-719.136 702.35,-715.996 702.601,-722.992\"/>\r\n</g>\r\n<!-- 4 -->\r\n<g id=\"node5\" class=\"node\"><title>4</title>\r\n<path fill=\"#3d9fe6\" stroke=\"black\" d=\"M1105,-932.5C1105,-932.5 909,-932.5 909,-932.5 903,-932.5 897,-926.5 897,-920.5 897,-920.5 897,-861.5 897,-861.5 897,-855.5 903,-849.5 909,-849.5 909,-849.5 1105,-849.5 1105,-849.5 1111,-849.5 1117,-855.5 1117,-861.5 1117,-861.5 1117,-920.5 1117,-920.5 1117,-926.5 1111,-932.5 1105,-932.5\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-917.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_emc_account &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-902.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0372</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-887.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 50.1%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-872.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.019, 0.981]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-857.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 3&#45;&gt;4 -->\r\n<g id=\"edge4\" class=\"edge\"><title>3&#45;&gt;4</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M861.048,-841.017C869.641,-843.98 878.46,-847.021 887.3,-850.069\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"886.295,-853.425 896.89,-853.376 888.577,-846.807 886.295,-853.425\"/>\r\n</g>\r\n<!-- 19 -->\r\n<g id=\"node20\" class=\"node\"><title>19</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1055.5,-831C1055.5,-831 958.5,-831 958.5,-831 952.5,-831 946.5,-825 946.5,-819 946.5,-819 946.5,-775 946.5,-775 946.5,-769 952.5,-763 958.5,-763 958.5,-763 1055.5,-763 1055.5,-763 1061.5,-763 1067.5,-769 1067.5,-775 1067.5,-775 1067.5,-819 1067.5,-819 1067.5,-825 1061.5,-831 1055.5,-831\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-815.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-800.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.5%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-785.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-770.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 3&#45;&gt;19 -->\r\n<g id=\"edge19\" class=\"edge\"><title>3&#45;&gt;19</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M861.048,-805.747C885.801,-804.253 912.432,-802.646 936.03,-801.222\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"936.52,-804.699 946.291,-800.603 936.098,-797.712 936.52,-804.699\"/>\r\n</g>\r\n<!-- 5 -->\r\n<g id=\"node6\" class=\"node\"><title>5</title>\r\n<path fill=\"#3c9ee5\" stroke=\"black\" d=\"M1318,-1013.5C1318,-1013.5 1169,-1013.5 1169,-1013.5 1163,-1013.5 1157,-1007.5 1157,-1001.5 1157,-1001.5 1157,-942.5 1157,-942.5 1157,-936.5 1163,-930.5 1169,-930.5 1169,-930.5 1318,-930.5 1318,-930.5 1324,-930.5 1330,-936.5 1330,-942.5 1330,-942.5 1330,-1001.5 1330,-1001.5 1330,-1007.5 1324,-1013.5 1318,-1013.5\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-998.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 367.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-983.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0248</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-968.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 49.7%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-953.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0126, 0.9874]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-938.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 4&#45;&gt;5 -->\r\n<g id=\"edge5\" class=\"edge\"><title>4&#45;&gt;5</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1117.01,-928.654C1127.16,-932.161 1137.4,-935.696 1147.41,-939.154\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1146.33,-942.485 1156.93,-942.442 1148.62,-935.869 1146.33,-942.485\"/>\r\n</g>\r\n<!-- 18 -->\r\n<g id=\"node19\" class=\"node\"><title>18</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1292,-912C1292,-912 1195,-912 1195,-912 1189,-912 1183,-906 1183,-900 1183,-900 1183,-856 1183,-856 1183,-850 1189,-844 1195,-844 1195,-844 1292,-844 1292,-844 1298,-844 1304,-850 1304,-856 1304,-856 1304,-900 1304,-900 1304,-906 1298,-912 1292,-912\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-896.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-881.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-866.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-851.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 4&#45;&gt;18 -->\r\n<g id=\"edge18\" class=\"edge\"><title>4&#45;&gt;18</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1117.01,-884.957C1136.01,-883.904 1155.3,-882.834 1172.86,-881.86\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1173.2,-885.347 1182.99,-881.299 1172.82,-878.358 1173.2,-885.347\"/>\r\n</g>\r\n<!-- 6 -->\r\n<g id=\"node7\" class=\"node\"><title>6</title>\r\n<path fill=\"#3a9ee5\" stroke=\"black\" d=\"M1531,-1102.5C1531,-1102.5 1382,-1102.5 1382,-1102.5 1376,-1102.5 1370,-1096.5 1370,-1090.5 1370,-1090.5 1370,-1031.5 1370,-1031.5 1370,-1025.5 1376,-1019.5 1382,-1019.5 1382,-1019.5 1531,-1019.5 1531,-1019.5 1537,-1019.5 1543,-1025.5 1543,-1031.5 1543,-1031.5 1543,-1090.5 1543,-1090.5 1543,-1096.5 1537,-1102.5 1531,-1102.5\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-1087.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 182.5</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-1072.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0112</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-1057.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 48.2%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-1042.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0056, 0.9944]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-1027.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 5&#45;&gt;6 -->\r\n<g id=\"edge6\" class=\"edge\"><title>5&#45;&gt;6</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-1008.07C1340.08,-1012.31 1350.39,-1016.66 1360.56,-1020.96\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1359.29,-1024.22 1369.86,-1024.88 1362.01,-1017.77 1359.29,-1024.22\"/>\r\n</g>\r\n<!-- 13 -->\r\n<g id=\"node14\" class=\"node\"><title>13</title>\r\n<path fill=\"#75bbed\" stroke=\"black\" d=\"M1530,-973.5C1530,-973.5 1383,-973.5 1383,-973.5 1377,-973.5 1371,-967.5 1371,-961.5 1371,-961.5 1371,-902.5 1371,-902.5 1371,-896.5 1377,-890.5 1383,-890.5 1383,-890.5 1530,-890.5 1530,-890.5 1536,-890.5 1542,-896.5 1542,-902.5 1542,-902.5 1542,-961.5 1542,-961.5 1542,-967.5 1536,-973.5 1530,-973.5\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-958.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">customer_count &lt;= 39.5</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-943.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.357</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-928.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.5%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-913.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.2326, 0.7674]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-898.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 5&#45;&gt;13 -->\r\n<g id=\"edge13\" class=\"edge\"><title>5&#45;&gt;13</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-955.788C1340.23,-953.852 1350.71,-951.866 1361.04,-949.907\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1361.71,-953.342 1370.89,-948.04 1360.41,-946.464 1361.71,-953.342\"/>\r\n</g>\r\n<!-- 7 -->\r\n<g id=\"node8\" class=\"node\"><title>7</title>\r\n<path fill=\"#3a9de5\" stroke=\"black\" d=\"M1738.5,-1231.5C1738.5,-1231.5 1592.5,-1231.5 1592.5,-1231.5 1586.5,-1231.5 1580.5,-1225.5 1580.5,-1219.5 1580.5,-1219.5 1580.5,-1160.5 1580.5,-1160.5 1580.5,-1154.5 1586.5,-1148.5 1592.5,-1148.5 1592.5,-1148.5 1738.5,-1148.5 1738.5,-1148.5 1744.5,-1148.5 1750.5,-1154.5 1750.5,-1160.5 1750.5,-1160.5 1750.5,-1219.5 1750.5,-1219.5 1750.5,-1225.5 1744.5,-1231.5 1738.5,-1231.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1216.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Year &lt;= 2018.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1201.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0064</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1186.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 46.5%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1171.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0032, 0.9968]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1156.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 6&#45;&gt;7 -->\r\n<g id=\"edge7\" class=\"edge\"><title>6&#45;&gt;7</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1524.14,-1102.53C1544.81,-1115.41 1567.74,-1129.7 1588.97,-1142.93\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1587.3,-1146.01 1597.63,-1148.33 1591,-1140.07 1587.3,-1146.01\"/>\r\n</g>\r\n<!-- 10 -->\r\n<g id=\"node11\" class=\"node\"><title>10</title>\r\n<path fill=\"#48a4e7\" stroke=\"black\" d=\"M1739,-1102.5C1739,-1102.5 1592,-1102.5 1592,-1102.5 1586,-1102.5 1580,-1096.5 1580,-1090.5 1580,-1090.5 1580,-1031.5 1580,-1031.5 1580,-1025.5 1586,-1019.5 1592,-1019.5 1592,-1019.5 1739,-1019.5 1739,-1019.5 1745,-1019.5 1751,-1025.5 1751,-1031.5 1751,-1031.5 1751,-1090.5 1751,-1090.5 1751,-1096.5 1745,-1102.5 1739,-1102.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1087.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">customer_count &lt;= 26.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1072.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1321</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1057.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.7%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1042.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0711, 0.9289]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-1027.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 6&#45;&gt;10 -->\r\n<g id=\"edge10\" class=\"edge\"><title>6&#45;&gt;10</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1543.19,-1061C1551.9,-1061 1560.79,-1061 1569.59,-1061\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1569.88,-1064.5 1579.88,-1061 1569.88,-1057.5 1569.88,-1064.5\"/>\r\n</g>\r\n<!-- 8 -->\r\n<g id=\"node9\" class=\"node\"><title>8</title>\r\n<path fill=\"#3a9de5\" stroke=\"black\" d=\"M1946,-1310C1946,-1310 1800,-1310 1800,-1310 1794,-1310 1788,-1304 1788,-1298 1788,-1298 1788,-1254 1788,-1254 1788,-1248 1794,-1242 1800,-1242 1800,-1242 1946,-1242 1946,-1242 1952,-1242 1958,-1248 1958,-1254 1958,-1254 1958,-1298 1958,-1298 1958,-1304 1952,-1310 1946,-1310\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1294.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0051</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1279.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 46.2%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1264.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0026, 0.9974]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1249.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 7&#45;&gt;8 -->\r\n<g id=\"edge8\" class=\"edge\"><title>7&#45;&gt;8</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-1225.23C1760.78,-1229.45 1771.12,-1233.78 1781.31,-1238.05\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1780.03,-1241.31 1790.61,-1241.94 1782.73,-1234.85 1780.03,-1241.31\"/>\r\n</g>\r\n<!-- 9 -->\r\n<g id=\"node10\" class=\"node\"><title>9</title>\r\n<path fill=\"#4ea7e8\" stroke=\"black\" d=\"M1946,-1224C1946,-1224 1800,-1224 1800,-1224 1794,-1224 1788,-1218 1788,-1212 1788,-1212 1788,-1168 1788,-1168 1788,-1162 1794,-1156 1800,-1156 1800,-1156 1946,-1156 1946,-1156 1952,-1156 1958,-1162 1958,-1168 1958,-1168 1958,-1212 1958,-1212 1958,-1218 1952,-1224 1946,-1224\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1208.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1723</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1193.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1178.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0952, 0.9048]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1163.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 7&#45;&gt;9 -->\r\n<g id=\"edge9\" class=\"edge\"><title>7&#45;&gt;9</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-1190C1759.62,-1190 1768.75,-1190 1777.79,-1190\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1777.95,-1193.5 1787.95,-1190 1777.95,-1186.5 1777.95,-1193.5\"/>\r\n</g>\r\n<!-- 11 -->\r\n<g id=\"node12\" class=\"node\"><title>11</title>\r\n<path fill=\"#3fa0e6\" stroke=\"black\" d=\"M1946,-1138C1946,-1138 1800,-1138 1800,-1138 1794,-1138 1788,-1132 1788,-1126 1788,-1126 1788,-1082 1788,-1082 1788,-1076 1794,-1070 1800,-1070 1800,-1070 1946,-1070 1946,-1070 1952,-1070 1958,-1076 1958,-1082 1958,-1082 1958,-1126 1958,-1126 1958,-1132 1952,-1138 1946,-1138\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1122.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0529</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1107.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.2%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1092.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.0272, 0.9728]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1077.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 10&#45;&gt;11 -->\r\n<g id=\"edge11\" class=\"edge\"><title>10&#45;&gt;11</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1751.27,-1078.74C1760.03,-1080.57 1768.96,-1082.44 1777.81,-1084.29\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1777.25,-1087.75 1787.76,-1086.37 1778.68,-1080.9 1777.25,-1087.75\"/>\r\n</g>\r\n<!-- 12 -->\r\n<g id=\"node13\" class=\"node\"><title>12</title>\r\n<path fill=\"#62b1ea\" stroke=\"black\" d=\"M1946,-1052C1946,-1052 1800,-1052 1800,-1052 1794,-1052 1788,-1046 1788,-1040 1788,-1040 1788,-996 1788,-996 1788,-990 1794,-984 1800,-984 1800,-984 1946,-984 1946,-984 1952,-984 1958,-990 1958,-996 1958,-996 1958,-1040 1958,-1040 1958,-1046 1952,-1052 1946,-1052\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1036.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.2847</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1021.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.5%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-1006.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.1719, 0.8281]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-991.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 10&#45;&gt;12 -->\r\n<g id=\"edge12\" class=\"edge\"><title>10&#45;&gt;12</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1751.27,-1043.26C1760.03,-1041.43 1768.96,-1039.56 1777.81,-1037.71\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1778.68,-1041.1 1787.76,-1035.63 1777.25,-1034.25 1778.68,-1041.1\"/>\r\n</g>\r\n<!-- 14 -->\r\n<g id=\"node15\" class=\"node\"><title>14</title>\r\n<path fill=\"#59ade9\" stroke=\"black\" d=\"M1738.5,-973.5C1738.5,-973.5 1592.5,-973.5 1592.5,-973.5 1586.5,-973.5 1580.5,-967.5 1580.5,-961.5 1580.5,-961.5 1580.5,-902.5 1580.5,-902.5 1580.5,-896.5 1586.5,-890.5 1592.5,-890.5 1592.5,-890.5 1738.5,-890.5 1738.5,-890.5 1744.5,-890.5 1750.5,-896.5 1750.5,-902.5 1750.5,-902.5 1750.5,-961.5 1750.5,-961.5 1750.5,-967.5 1744.5,-973.5 1738.5,-973.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-958.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Month &lt;= 3.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-943.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.237</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-928.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.3%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-913.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.1374, 0.8626]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-898.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 13&#45;&gt;14 -->\r\n<g id=\"edge14\" class=\"edge\"><title>13&#45;&gt;14</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1542.29,-932C1551.48,-932 1560.86,-932 1570.15,-932\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1570.17,-935.5 1580.17,-932 1570.17,-928.5 1570.17,-935.5\"/>\r\n</g>\r\n<!-- 17 -->\r\n<g id=\"node18\" class=\"node\"><title>17</title>\r\n<path fill=\"#efb286\" stroke=\"black\" d=\"M1738.5,-872C1738.5,-872 1592.5,-872 1592.5,-872 1586.5,-872 1580.5,-866 1580.5,-860 1580.5,-860 1580.5,-816 1580.5,-816 1580.5,-810 1586.5,-804 1592.5,-804 1592.5,-804 1738.5,-804 1738.5,-804 1744.5,-804 1750.5,-810 1750.5,-816 1750.5,-816 1750.5,-860 1750.5,-860 1750.5,-866 1744.5,-872 1738.5,-872\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-856.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.402</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-841.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.2%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-826.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.7213, 0.2787]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-811.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 13&#45;&gt;17 -->\r\n<g id=\"edge17\" class=\"edge\"><title>13&#45;&gt;17</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1542.29,-893.495C1554.75,-887.839 1567.58,-882.013 1580.03,-876.359\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1581.8,-879.397 1589.46,-872.075 1578.91,-873.023 1581.8,-879.397\"/>\r\n</g>\r\n<!-- 15 -->\r\n<g id=\"node16\" class=\"node\"><title>15</title>\r\n<path fill=\"#bfdff7\" stroke=\"black\" d=\"M1938,-966C1938,-966 1808,-966 1808,-966 1802,-966 1796,-960 1796,-954 1796,-954 1796,-910 1796,-910 1796,-904 1802,-898 1808,-898 1808,-898 1938,-898 1938,-898 1944,-898 1950,-904 1950,-910 1950,-910 1950,-954 1950,-954 1950,-960 1944,-966 1938,-966\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-950.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4816</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-935.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.4%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-920.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.404, 0.596]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-905.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 14&#45;&gt;15 -->\r\n<g id=\"edge15\" class=\"edge\"><title>14&#45;&gt;15</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-932C1762.25,-932 1774.15,-932 1785.76,-932\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1785.87,-935.5 1795.87,-932 1785.87,-928.5 1785.87,-935.5\"/>\r\n</g>\r\n<!-- 16 -->\r\n<g id=\"node17\" class=\"node\"><title>16</title>\r\n<path fill=\"#3c9ee5\" stroke=\"black\" d=\"M1938,-880C1938,-880 1808,-880 1808,-880 1802,-880 1796,-874 1796,-868 1796,-868 1796,-824 1796,-824 1796,-818 1802,-812 1808,-812 1808,-812 1938,-812 1938,-812 1944,-812 1950,-818 1950,-824 1950,-824 1950,-868 1950,-868 1950,-874 1944,-880 1938,-880\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-864.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0276</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-849.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.9%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-834.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.014, 0.986]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-819.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 14&#45;&gt;16 -->\r\n<g id=\"edge16\" class=\"edge\"><title>14&#45;&gt;16</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-896.772C1762.49,-891.831 1774.63,-886.748 1786.46,-881.796\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1788,-884.948 1795.87,-877.859 1785.3,-878.49 1788,-884.948\"/>\r\n</g>\r\n<!-- 23 -->\r\n<g id=\"node24\" class=\"node\"><title>23</title>\r\n<path fill=\"#e78946\" stroke=\"black\" d=\"M622.5,-575.5C622.5,-575.5 473.5,-575.5 473.5,-575.5 467.5,-575.5 461.5,-569.5 461.5,-563.5 461.5,-563.5 461.5,-504.5 461.5,-504.5 461.5,-498.5 467.5,-492.5 473.5,-492.5 473.5,-492.5 622.5,-492.5 622.5,-492.5 628.5,-492.5 634.5,-498.5 634.5,-504.5 634.5,-504.5 634.5,-563.5 634.5,-563.5 634.5,-569.5 628.5,-575.5 622.5,-575.5\"/>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-560.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 332.5</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-545.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1135</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-530.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 13.6%</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-515.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9396, 0.0604]</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-500.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 22&#45;&gt;23 -->\r\n<g id=\"edge23\" class=\"edge\"><title>22&#45;&gt;23</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M411.255,-532.857C424.368,-532.967 437.764,-533.08 450.785,-533.19\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"451.105,-536.692 461.134,-533.277 451.164,-529.693 451.105,-536.692\"/>\r\n</g>\r\n<!-- 58 -->\r\n<g id=\"node59\" class=\"node\"><title>58</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M600,-474C600,-474 496,-474 496,-474 490,-474 484,-468 484,-462 484,-462 484,-418 484,-418 484,-412 490,-406 496,-406 496,-406 600,-406 600,-406 606,-406 612,-412 612,-418 612,-418 612,-462 612,-462 612,-468 606,-474 600,-474\"/>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-458.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-443.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 28.0%</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-428.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"548\" y=\"-413.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 22&#45;&gt;58 -->\r\n<g id=\"edge58\" class=\"edge\"><title>22&#45;&gt;58</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M411.255,-492.583C432.461,-484.369 454.406,-475.868 474.309,-468.158\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"475.842,-471.318 483.902,-464.442 473.313,-464.79 475.842,-471.318\"/>\r\n</g>\r\n<!-- 24 -->\r\n<g id=\"node25\" class=\"node\"><title>24</title>\r\n<path fill=\"#eba069\" stroke=\"black\" d=\"M846,-584.5C846,-584.5 700,-584.5 700,-584.5 694,-584.5 688,-578.5 688,-572.5 688,-572.5 688,-513.5 688,-513.5 688,-507.5 694,-501.5 700,-501.5 700,-501.5 846,-501.5 846,-501.5 852,-501.5 858,-507.5 858,-513.5 858,-513.5 858,-572.5 858,-572.5 858,-578.5 852,-584.5 846,-584.5\"/>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-569.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">recurrencia &lt;= 8.5</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-554.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.3159</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-539.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 2.9%</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-524.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8034, 0.1966]</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-509.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 23&#45;&gt;24 -->\r\n<g id=\"edge24\" class=\"edge\"><title>23&#45;&gt;24</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M634.58,-537.454C648.615,-538.02 663.23,-538.61 677.467,-539.185\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"677.62,-542.694 687.753,-539.6 677.902,-535.699 677.62,-542.694\"/>\r\n</g>\r\n<!-- 37 -->\r\n<g id=\"node38\" class=\"node\"><title>37</title>\r\n<path fill=\"#e6843e\" stroke=\"black\" d=\"M846,-401.5C846,-401.5 700,-401.5 700,-401.5 694,-401.5 688,-395.5 688,-389.5 688,-389.5 688,-330.5 688,-330.5 688,-324.5 694,-318.5 700,-318.5 700,-318.5 846,-318.5 846,-318.5 852,-318.5 858,-324.5 858,-330.5 858,-330.5 858,-389.5 858,-389.5 858,-395.5 852,-401.5 846,-401.5\"/>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-386.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">recurrencia &lt;= 13.5</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-371.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0466</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-356.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 10.7%</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-341.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9761, 0.0239]</text>\r\n<text text-anchor=\"middle\" x=\"773\" y=\"-326.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 23&#45;&gt;37 -->\r\n<g id=\"edge37\" class=\"edge\"><title>23&#45;&gt;37</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M634.657,-492.653C639.609,-489.547 644.428,-486.323 649,-483 678.317,-461.692 707.178,-433.33 729.568,-409.211\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"732.421,-411.279 736.603,-401.544 727.263,-406.547 732.421,-411.279\"/>\r\n</g>\r\n<!-- 25 -->\r\n<g id=\"node26\" class=\"node\"><title>25</title>\r\n<path fill=\"#f4cbad\" stroke=\"black\" d=\"M1096,-717.5C1096,-717.5 918,-717.5 918,-717.5 912,-717.5 906,-711.5 906,-705.5 906,-705.5 906,-646.5 906,-646.5 906,-640.5 912,-634.5 918,-634.5 918,-634.5 1096,-634.5 1096,-634.5 1102,-634.5 1108,-640.5 1108,-646.5 1108,-646.5 1108,-705.5 1108,-705.5 1108,-711.5 1102,-717.5 1096,-717.5\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-702.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Productos_debit_card &lt;= 0.5</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-687.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4658</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-672.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.4%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-657.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.6307, 0.3693]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-642.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 24&#45;&gt;25 -->\r\n<g id=\"edge25\" class=\"edge\"><title>24&#45;&gt;25</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M846.452,-584.535C871.189,-598.716 899.018,-614.67 924.424,-629.234\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"922.884,-632.386 933.3,-634.323 926.365,-626.313 922.884,-632.386\"/>\r\n</g>\r\n<!-- 34 -->\r\n<g id=\"node35\" class=\"node\"><title>34</title>\r\n<path fill=\"#e6843e\" stroke=\"black\" d=\"M1080,-584.5C1080,-584.5 934,-584.5 934,-584.5 928,-584.5 922,-578.5 922,-572.5 922,-572.5 922,-513.5 922,-513.5 922,-507.5 928,-501.5 934,-501.5 934,-501.5 1080,-501.5 1080,-501.5 1086,-501.5 1092,-507.5 1092,-513.5 1092,-513.5 1092,-572.5 1092,-572.5 1092,-578.5 1086,-584.5 1080,-584.5\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-569.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">recurrencia &lt;= 11.5</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-554.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0494</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-539.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.4%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-524.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9746, 0.0254]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-509.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 24&#45;&gt;34 -->\r\n<g id=\"edge34\" class=\"edge\"><title>24&#45;&gt;34</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M858.085,-543C875.43,-543 893.806,-543 911.492,-543\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"911.812,-546.5 921.812,-543 911.812,-539.5 911.812,-546.5\"/>\r\n</g>\r\n<!-- 26 -->\r\n<g id=\"node27\" class=\"node\"><title>26</title>\r\n<path fill=\"#fcf0e8\" stroke=\"black\" d=\"M1316.5,-811.5C1316.5,-811.5 1170.5,-811.5 1170.5,-811.5 1164.5,-811.5 1158.5,-805.5 1158.5,-799.5 1158.5,-799.5 1158.5,-740.5 1158.5,-740.5 1158.5,-734.5 1164.5,-728.5 1170.5,-728.5 1170.5,-728.5 1316.5,-728.5 1316.5,-728.5 1322.5,-728.5 1328.5,-734.5 1328.5,-740.5 1328.5,-740.5 1328.5,-799.5 1328.5,-799.5 1328.5,-805.5 1322.5,-811.5 1316.5,-811.5\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-796.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Month &lt;= 3.5</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-781.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4981</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-766.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.1%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-751.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.5307, 0.4693]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-736.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 25&#45;&gt;26 -->\r\n<g id=\"edge26\" class=\"edge\"><title>25&#45;&gt;26</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1108.13,-716.137C1121.55,-721.518 1135.28,-727.021 1148.59,-732.357\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1147.62,-735.736 1158.2,-736.208 1150.22,-729.239 1147.62,-735.736\"/>\r\n</g>\r\n<!-- 33 -->\r\n<g id=\"node34\" class=\"node\"><title>33</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1292,-710C1292,-710 1195,-710 1195,-710 1189,-710 1183,-704 1183,-698 1183,-698 1183,-654 1183,-654 1183,-648 1189,-642 1195,-642 1195,-642 1292,-642 1292,-642 1298,-642 1304,-648 1304,-654 1304,-654 1304,-698 1304,-698 1304,-704 1298,-710 1292,-710\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-694.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-679.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-664.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-649.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 25&#45;&gt;33 -->\r\n<g id=\"edge33\" class=\"edge\"><title>25&#45;&gt;33</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1108.13,-676C1129.85,-676 1152.38,-676 1172.64,-676\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1172.7,-679.5 1182.7,-676 1172.7,-672.5 1172.7,-679.5\"/>\r\n</g>\r\n<!-- 27 -->\r\n<g id=\"node28\" class=\"node\"><title>27</title>\r\n<path fill=\"#ea9a61\" stroke=\"black\" d=\"M1529.5,-829C1529.5,-829 1383.5,-829 1383.5,-829 1377.5,-829 1371.5,-823 1371.5,-817 1371.5,-817 1371.5,-773 1371.5,-773 1371.5,-767 1377.5,-761 1383.5,-761 1383.5,-761 1529.5,-761 1529.5,-761 1535.5,-761 1541.5,-767 1541.5,-773 1541.5,-773 1541.5,-817 1541.5,-817 1541.5,-823 1535.5,-829 1529.5,-829\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-813.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.2778</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-798.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-783.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8333, 0.1667]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-768.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 26&#45;&gt;27 -->\r\n<g id=\"edge27\" class=\"edge\"><title>26&#45;&gt;27</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1328.8,-779.988C1339.42,-781.246 1350.33,-782.539 1361.08,-783.813\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1360.99,-787.326 1371.33,-785.027 1361.81,-780.375 1360.99,-787.326\"/>\r\n</g>\r\n<!-- 28 -->\r\n<g id=\"node29\" class=\"node\"><title>28</title>\r\n<path fill=\"#d2e9f9\" stroke=\"black\" d=\"M1521.5,-742.5C1521.5,-742.5 1391.5,-742.5 1391.5,-742.5 1385.5,-742.5 1379.5,-736.5 1379.5,-730.5 1379.5,-730.5 1379.5,-671.5 1379.5,-671.5 1379.5,-665.5 1385.5,-659.5 1391.5,-659.5 1391.5,-659.5 1521.5,-659.5 1521.5,-659.5 1527.5,-659.5 1533.5,-665.5 1533.5,-671.5 1533.5,-671.5 1533.5,-730.5 1533.5,-730.5 1533.5,-736.5 1527.5,-742.5 1521.5,-742.5\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-727.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">region_code &lt;= 12.5</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-712.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4918</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-697.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.9%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-682.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.436, 0.564]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-667.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 26&#45;&gt;28 -->\r\n<g id=\"edge28\" class=\"edge\"><title>26&#45;&gt;28</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1328.8,-742.432C1342.2,-738.052 1356.06,-733.517 1369.5,-729.124\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1370.77,-732.39 1379.19,-725.955 1368.59,-725.737 1370.77,-732.39\"/>\r\n</g>\r\n<!-- 29 -->\r\n<g id=\"node30\" class=\"node\"><title>29</title>\r\n<path fill=\"#7ebfee\" stroke=\"black\" d=\"M1738.5,-761C1738.5,-761 1592.5,-761 1592.5,-761 1586.5,-761 1580.5,-755 1580.5,-749 1580.5,-749 1580.5,-705 1580.5,-705 1580.5,-699 1586.5,-693 1592.5,-693 1592.5,-693 1738.5,-693 1738.5,-693 1744.5,-693 1750.5,-699 1750.5,-705 1750.5,-705 1750.5,-749 1750.5,-749 1750.5,-755 1744.5,-761 1738.5,-761\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-745.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.3825</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-730.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-715.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.2576, 0.7424]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-700.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 28&#45;&gt;29 -->\r\n<g id=\"edge29\" class=\"edge\"><title>28&#45;&gt;29</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1533.7,-710.571C1545.59,-712.064 1557.99,-713.622 1570.22,-715.158\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1570.08,-718.668 1580.44,-716.442 1570.96,-711.723 1570.08,-718.668\"/>\r\n</g>\r\n<!-- 30 -->\r\n<g id=\"node31\" class=\"node\"><title>30</title>\r\n<path fill=\"#fdf7f2\" stroke=\"black\" d=\"M1738.5,-674.5C1738.5,-674.5 1592.5,-674.5 1592.5,-674.5 1586.5,-674.5 1580.5,-668.5 1580.5,-662.5 1580.5,-662.5 1580.5,-603.5 1580.5,-603.5 1580.5,-597.5 1586.5,-591.5 1592.5,-591.5 1592.5,-591.5 1738.5,-591.5 1738.5,-591.5 1744.5,-591.5 1750.5,-597.5 1750.5,-603.5 1750.5,-603.5 1750.5,-662.5 1750.5,-662.5 1750.5,-668.5 1744.5,-674.5 1738.5,-674.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-659.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">age &lt;= 43.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-644.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4994</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-629.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.6%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-614.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.5172, 0.4828]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-599.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 28&#45;&gt;30 -->\r\n<g id=\"edge30\" class=\"edge\"><title>28&#45;&gt;30</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1533.7,-675.969C1545.7,-672.025 1558.24,-667.907 1570.59,-663.85\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1572.03,-667.059 1580.44,-660.613 1569.85,-660.409 1572.03,-667.059\"/>\r\n</g>\r\n<!-- 31 -->\r\n<g id=\"node32\" class=\"node\"><title>31</title>\r\n<path fill=\"#f4caab\" stroke=\"black\" d=\"M1946,-710C1946,-710 1800,-710 1800,-710 1794,-710 1788,-704 1788,-698 1788,-698 1788,-654 1788,-654 1788,-648 1794,-642 1800,-642 1800,-642 1946,-642 1946,-642 1952,-642 1958,-648 1958,-654 1958,-654 1958,-698 1958,-698 1958,-704 1952,-710 1946,-710\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-694.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.464</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-679.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-664.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.6341, 0.3659]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-649.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 30&#45;&gt;31 -->\r\n<g id=\"edge31\" class=\"edge\"><title>30&#45;&gt;31</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-650.614C1759.71,-652.504 1768.95,-654.437 1778.09,-656.349\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1777.45,-659.791 1787.95,-658.414 1778.88,-652.94 1777.45,-659.791\"/>\r\n</g>\r\n<!-- 32 -->\r\n<g id=\"node33\" class=\"node\"><title>32</title>\r\n<path fill=\"#abd5f4\" stroke=\"black\" d=\"M1946,-624C1946,-624 1800,-624 1800,-624 1794,-624 1788,-618 1788,-612 1788,-612 1788,-568 1788,-568 1788,-562 1794,-556 1800,-556 1800,-556 1946,-556 1946,-556 1952,-556 1958,-562 1958,-568 1958,-568 1958,-612 1958,-612 1958,-618 1952,-624 1946,-624\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-608.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.4636</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-593.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-578.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.3651, 0.6349]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-563.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = No_compra</text>\r\n</g>\r\n<!-- 30&#45;&gt;32 -->\r\n<g id=\"edge32\" class=\"edge\"><title>30&#45;&gt;32</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-615.386C1759.71,-613.496 1768.95,-611.563 1778.09,-609.651\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1778.88,-613.06 1787.95,-607.586 1777.45,-606.209 1778.88,-613.06\"/>\r\n</g>\r\n<!-- 35 -->\r\n<g id=\"node36\" class=\"node\"><title>35</title>\r\n<path fill=\"#ea975b\" stroke=\"black\" d=\"M1316.5,-624C1316.5,-624 1170.5,-624 1170.5,-624 1164.5,-624 1158.5,-618 1158.5,-612 1158.5,-612 1158.5,-568 1158.5,-568 1158.5,-562 1164.5,-556 1170.5,-556 1170.5,-556 1316.5,-556 1316.5,-556 1322.5,-556 1328.5,-562 1328.5,-568 1328.5,-568 1328.5,-612 1328.5,-612 1328.5,-618 1322.5,-624 1316.5,-624\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-608.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.2515</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-593.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.2%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-578.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8525, 0.1475]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-563.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 34&#45;&gt;35 -->\r\n<g id=\"edge35\" class=\"edge\"><title>34&#45;&gt;35</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.33,-559.902C1110.47,-563.538 1129.76,-567.403 1148.25,-571.11\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1147.64,-574.557 1158.13,-573.09 1149.01,-567.693 1147.64,-574.557\"/>\r\n</g>\r\n<!-- 36 -->\r\n<g id=\"node37\" class=\"node\"><title>36</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1292,-538C1292,-538 1195,-538 1195,-538 1189,-538 1183,-532 1183,-526 1183,-526 1183,-482 1183,-482 1183,-476 1189,-470 1195,-470 1195,-470 1292,-470 1292,-470 1298,-470 1304,-476 1304,-482 1304,-482 1304,-526 1304,-526 1304,-532 1298,-538 1292,-538\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-522.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-507.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.2%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-492.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-477.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 34&#45;&gt;36 -->\r\n<g id=\"edge36\" class=\"edge\"><title>34&#45;&gt;36</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.33,-528.975C1118.76,-524.58 1147.62,-519.78 1172.91,-515.574\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1173.49,-519.026 1182.78,-513.932 1172.34,-512.12 1173.49,-519.026\"/>\r\n</g>\r\n<!-- 38 -->\r\n<g id=\"node39\" class=\"node\"><title>38</title>\r\n<path fill=\"#e68844\" stroke=\"black\" d=\"M1080.5,-401.5C1080.5,-401.5 933.5,-401.5 933.5,-401.5 927.5,-401.5 921.5,-395.5 921.5,-389.5 921.5,-389.5 921.5,-330.5 921.5,-330.5 921.5,-324.5 927.5,-318.5 933.5,-318.5 933.5,-318.5 1080.5,-318.5 1080.5,-318.5 1086.5,-318.5 1092.5,-324.5 1092.5,-330.5 1092.5,-330.5 1092.5,-389.5 1092.5,-389.5 1092.5,-395.5 1086.5,-401.5 1080.5,-401.5\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-386.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">customer_count &lt;= 34.5</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-371.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1013</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-356.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 4.5%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-341.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9465, 0.0535]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-326.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 37&#45;&gt;38 -->\r\n<g id=\"edge38\" class=\"edge\"><title>37&#45;&gt;38</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M858.085,-360C875.321,-360 893.576,-360 911.16,-360\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"911.423,-363.5 921.423,-360 911.423,-356.5 911.423,-363.5\"/>\r\n</g>\r\n<!-- 53 -->\r\n<g id=\"node54\" class=\"node\"><title>53</title>\r\n<path fill=\"#e5813a\" stroke=\"black\" d=\"M1080,-169.5C1080,-169.5 934,-169.5 934,-169.5 928,-169.5 922,-163.5 922,-157.5 922,-157.5 922,-98.5 922,-98.5 922,-92.5 928,-86.5 934,-86.5 934,-86.5 1080,-86.5 1080,-86.5 1086,-86.5 1092,-92.5 1092,-98.5 1092,-98.5 1092,-157.5 1092,-157.5 1092,-163.5 1086,-169.5 1080,-169.5\"/>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-154.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">recurrencia &lt;= 15.5</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-139.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0052</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-124.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 6.2%</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-109.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9974, 0.0026]</text>\r\n<text text-anchor=\"middle\" x=\"1007\" y=\"-94.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 37&#45;&gt;53 -->\r\n<g id=\"edge53\" class=\"edge\"><title>37&#45;&gt;53</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M815.745,-318.255C855.455,-278.545 915.194,-218.806 957.111,-176.889\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"959.603,-179.346 964.2,-169.8 954.654,-174.397 959.603,-179.346\"/>\r\n</g>\r\n<!-- 39 -->\r\n<g id=\"node40\" class=\"node\"><title>39</title>\r\n<path fill=\"#e5833c\" stroke=\"black\" d=\"M1318,-451.5C1318,-451.5 1169,-451.5 1169,-451.5 1163,-451.5 1157,-445.5 1157,-439.5 1157,-439.5 1157,-380.5 1157,-380.5 1157,-374.5 1163,-368.5 1169,-368.5 1169,-368.5 1318,-368.5 1318,-368.5 1324,-368.5 1330,-374.5 1330,-380.5 1330,-380.5 1330,-439.5 1330,-439.5 1330,-445.5 1324,-451.5 1318,-451.5\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-436.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 392.5</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-421.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0336</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-406.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 2.6%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-391.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9829, 0.0171]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-376.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 38&#45;&gt;39 -->\r\n<g id=\"edge39\" class=\"edge\"><title>38&#45;&gt;39</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.66,-378.051C1110.26,-381.804 1128.92,-385.783 1146.89,-389.613\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1146.27,-393.061 1156.78,-391.723 1147.73,-386.215 1146.27,-393.061\"/>\r\n</g>\r\n<!-- 44 -->\r\n<g id=\"node45\" class=\"node\"><title>44</title>\r\n<path fill=\"#e89050\" stroke=\"black\" d=\"M1318,-350.5C1318,-350.5 1169,-350.5 1169,-350.5 1163,-350.5 1157,-344.5 1157,-338.5 1157,-338.5 1157,-279.5 1157,-279.5 1157,-273.5 1163,-267.5 1169,-267.5 1169,-267.5 1318,-267.5 1318,-267.5 1324,-267.5 1330,-273.5 1330,-279.5 1330,-279.5 1330,-338.5 1330,-338.5 1330,-344.5 1324,-350.5 1318,-350.5\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-335.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 454.5</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-320.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1869</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-305.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.9%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-290.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8957, 0.1043]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-275.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 38&#45;&gt;44 -->\r\n<g id=\"edge44\" class=\"edge\"><title>38&#45;&gt;44</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.66,-341.588C1110.26,-337.76 1128.92,-333.701 1146.89,-329.794\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1147.75,-333.187 1156.78,-327.642 1146.27,-326.347 1147.75,-333.187\"/>\r\n</g>\r\n<!-- 40 -->\r\n<g id=\"node41\" class=\"node\"><title>40</title>\r\n<path fill=\"#e88e4e\" stroke=\"black\" d=\"M1529.5,-538C1529.5,-538 1383.5,-538 1383.5,-538 1377.5,-538 1371.5,-532 1371.5,-526 1371.5,-526 1371.5,-482 1371.5,-482 1371.5,-476 1377.5,-470 1383.5,-470 1383.5,-470 1529.5,-470 1529.5,-470 1535.5,-470 1541.5,-476 1541.5,-482 1541.5,-482 1541.5,-526 1541.5,-526 1541.5,-532 1535.5,-538 1529.5,-538\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-522.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1705</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-507.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-492.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9059, 0.0941]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-477.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 39&#45;&gt;40 -->\r\n<g id=\"edge40\" class=\"edge\"><title>39&#45;&gt;40</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-448.098C1343.07,-453.913 1356.55,-459.917 1369.61,-465.736\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1368.48,-469.062 1379.03,-469.935 1371.32,-462.668 1368.48,-469.062\"/>\r\n</g>\r\n<!-- 41 -->\r\n<g id=\"node42\" class=\"node\"><title>41</title>\r\n<path fill=\"#e5823a\" stroke=\"black\" d=\"M1529.5,-451.5C1529.5,-451.5 1383.5,-451.5 1383.5,-451.5 1377.5,-451.5 1371.5,-445.5 1371.5,-439.5 1371.5,-439.5 1371.5,-380.5 1371.5,-380.5 1371.5,-374.5 1377.5,-368.5 1383.5,-368.5 1383.5,-368.5 1529.5,-368.5 1529.5,-368.5 1535.5,-368.5 1541.5,-374.5 1541.5,-380.5 1541.5,-380.5 1541.5,-439.5 1541.5,-439.5 1541.5,-445.5 1535.5,-451.5 1529.5,-451.5\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-436.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">age &lt;= 56.5</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-421.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0107</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-406.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 2.3%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-391.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9946, 0.0054]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-376.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 39&#45;&gt;41 -->\r\n<g id=\"edge41\" class=\"edge\"><title>39&#45;&gt;41</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-410C1340.21,-410 1350.67,-410 1360.98,-410\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1361.23,-413.5 1371.23,-410 1361.23,-406.5 1361.23,-413.5\"/>\r\n</g>\r\n<!-- 42 -->\r\n<g id=\"node43\" class=\"node\"><title>42</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1714,-487C1714,-487 1617,-487 1617,-487 1611,-487 1605,-481 1605,-475 1605,-475 1605,-431 1605,-431 1605,-425 1611,-419 1617,-419 1617,-419 1714,-419 1714,-419 1720,-419 1726,-425 1726,-431 1726,-431 1726,-475 1726,-475 1726,-481 1720,-487 1714,-487\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-471.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-456.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.9%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-441.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-426.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 41&#45;&gt;42 -->\r\n<g id=\"edge42\" class=\"edge\"><title>41&#45;&gt;42</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1541.69,-427.49C1559.38,-431.163 1577.84,-434.999 1594.92,-438.547\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1594.3,-441.992 1604.8,-440.599 1595.72,-435.138 1594.3,-441.992\"/>\r\n</g>\r\n<!-- 43 -->\r\n<g id=\"node44\" class=\"node\"><title>43</title>\r\n<path fill=\"#e68641\" stroke=\"black\" d=\"M1738.5,-401C1738.5,-401 1592.5,-401 1592.5,-401 1586.5,-401 1580.5,-395 1580.5,-389 1580.5,-389 1580.5,-345 1580.5,-345 1580.5,-339 1586.5,-333 1592.5,-333 1592.5,-333 1738.5,-333 1738.5,-333 1744.5,-333 1750.5,-339 1750.5,-345 1750.5,-345 1750.5,-389 1750.5,-389 1750.5,-395 1744.5,-401 1738.5,-401\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-385.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.074</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-370.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-355.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9615, 0.0385]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-340.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 41&#45;&gt;43 -->\r\n<g id=\"edge43\" class=\"edge\"><title>41&#45;&gt;43</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1541.69,-392.51C1551.17,-390.543 1560.86,-388.529 1570.44,-386.538\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1571.3,-389.935 1580.38,-384.474 1569.88,-383.081 1571.3,-389.935\"/>\r\n</g>\r\n<!-- 45 -->\r\n<g id=\"node46\" class=\"node\"><title>45</title>\r\n<path fill=\"#efb082\" stroke=\"black\" d=\"M1529.5,-350C1529.5,-350 1383.5,-350 1383.5,-350 1377.5,-350 1371.5,-344 1371.5,-338 1371.5,-338 1371.5,-294 1371.5,-294 1371.5,-288 1377.5,-282 1383.5,-282 1383.5,-282 1529.5,-282 1529.5,-282 1535.5,-282 1541.5,-288 1541.5,-294 1541.5,-294 1541.5,-338 1541.5,-338 1541.5,-344 1535.5,-350 1529.5,-350\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-334.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.3944</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-319.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-304.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.7297, 0.2703]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-289.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 44&#45;&gt;45 -->\r\n<g id=\"edge45\" class=\"edge\"><title>44&#45;&gt;45</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-311.837C1340.21,-312.175 1350.67,-312.522 1360.98,-312.864\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1361.12,-316.371 1371.23,-313.204 1361.35,-309.375 1361.12,-316.371\"/>\r\n</g>\r\n<!-- 46 -->\r\n<g id=\"node47\" class=\"node\"><title>46</title>\r\n<path fill=\"#e78b48\" stroke=\"black\" d=\"M1529.5,-263.5C1529.5,-263.5 1383.5,-263.5 1383.5,-263.5 1377.5,-263.5 1371.5,-257.5 1371.5,-251.5 1371.5,-251.5 1371.5,-192.5 1371.5,-192.5 1371.5,-186.5 1377.5,-180.5 1383.5,-180.5 1383.5,-180.5 1529.5,-180.5 1529.5,-180.5 1535.5,-180.5 1541.5,-186.5 1541.5,-192.5 1541.5,-192.5 1541.5,-251.5 1541.5,-251.5 1541.5,-257.5 1535.5,-263.5 1529.5,-263.5\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-248.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">age &lt;= 38.5</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-233.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1346</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-218.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 1.6%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-203.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9275, 0.0725]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-188.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 44&#45;&gt;46 -->\r\n<g id=\"edge46\" class=\"edge\"><title>44&#45;&gt;46</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1330.02,-273.739C1340.53,-269.404 1351.32,-264.955 1361.95,-260.574\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1363.32,-263.794 1371.23,-256.746 1360.65,-257.323 1363.32,-263.794\"/>\r\n</g>\r\n<!-- 47 -->\r\n<g id=\"node48\" class=\"node\"><title>47</title>\r\n<path fill=\"#e5823b\" stroke=\"black\" d=\"M1738.5,-289.5C1738.5,-289.5 1592.5,-289.5 1592.5,-289.5 1586.5,-289.5 1580.5,-283.5 1580.5,-277.5 1580.5,-277.5 1580.5,-218.5 1580.5,-218.5 1580.5,-212.5 1586.5,-206.5 1592.5,-206.5 1592.5,-206.5 1738.5,-206.5 1738.5,-206.5 1744.5,-206.5 1750.5,-212.5 1750.5,-218.5 1750.5,-218.5 1750.5,-277.5 1750.5,-277.5 1750.5,-283.5 1744.5,-289.5 1738.5,-289.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-274.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">Month &lt;= 3.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-259.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0203</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-244.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.8%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-229.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9897, 0.0103]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-214.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 46&#45;&gt;47 -->\r\n<g id=\"edge47\" class=\"edge\"><title>46&#45;&gt;47</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1541.69,-232.575C1551.17,-233.765 1560.86,-234.982 1570.44,-236.186\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1570.02,-239.661 1580.38,-237.434 1570.89,-232.715 1570.02,-239.661\"/>\r\n</g>\r\n<!-- 50 -->\r\n<g id=\"node51\" class=\"node\"><title>50</title>\r\n<path fill=\"#e99558\" stroke=\"black\" d=\"M1740,-188.5C1740,-188.5 1591,-188.5 1591,-188.5 1585,-188.5 1579,-182.5 1579,-176.5 1579,-176.5 1579,-117.5 1579,-117.5 1579,-111.5 1585,-105.5 1591,-105.5 1591,-105.5 1740,-105.5 1740,-105.5 1746,-105.5 1752,-111.5 1752,-117.5 1752,-117.5 1752,-176.5 1752,-176.5 1752,-182.5 1746,-188.5 1740,-188.5\"/>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-173.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 853.5</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-158.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.2352</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-143.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.8%</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-128.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8639, 0.1361]</text>\r\n<text text-anchor=\"middle\" x=\"1665.5\" y=\"-113.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 46&#45;&gt;50 -->\r\n<g id=\"edge50\" class=\"edge\"><title>46&#45;&gt;50</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1541.69,-191.495C1550.75,-188.214 1560.01,-184.859 1569.18,-181.535\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1570.49,-184.785 1578.7,-178.087 1568.1,-178.203 1570.49,-184.785\"/>\r\n</g>\r\n<!-- 48 -->\r\n<g id=\"node49\" class=\"node\"><title>48</title>\r\n<path fill=\"#e68641\" stroke=\"black\" d=\"M1929.5,-361C1929.5,-361 1816.5,-361 1816.5,-361 1810.5,-361 1804.5,-355 1804.5,-349 1804.5,-349 1804.5,-305 1804.5,-305 1804.5,-299 1810.5,-293 1816.5,-293 1816.5,-293 1929.5,-293 1929.5,-293 1935.5,-293 1941.5,-299 1941.5,-305 1941.5,-305 1941.5,-349 1941.5,-349 1941.5,-355 1935.5,-361 1929.5,-361\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-345.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0768</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-330.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.2%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-315.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.96, 0.04]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-300.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 47&#45;&gt;48 -->\r\n<g id=\"edge48\" class=\"edge\"><title>47&#45;&gt;48</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-280.36C1765.32,-285.988 1780.48,-291.816 1794.91,-297.366\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1793.69,-300.646 1804.28,-300.968 1796.21,-294.113 1793.69,-300.646\"/>\r\n</g>\r\n<!-- 49 -->\r\n<g id=\"node50\" class=\"node\"><title>49</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1921.5,-275C1921.5,-275 1824.5,-275 1824.5,-275 1818.5,-275 1812.5,-269 1812.5,-263 1812.5,-263 1812.5,-219 1812.5,-219 1812.5,-213 1818.5,-207 1824.5,-207 1824.5,-207 1921.5,-207 1921.5,-207 1927.5,-207 1933.5,-213 1933.5,-219 1933.5,-219 1933.5,-263 1933.5,-263 1933.5,-269 1927.5,-275 1921.5,-275\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-259.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-244.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.6%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-229.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-214.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 47&#45;&gt;49 -->\r\n<g id=\"edge49\" class=\"edge\"><title>47&#45;&gt;49</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1750.68,-245.133C1767.84,-244.548 1785.72,-243.939 1802.32,-243.374\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1802.59,-246.867 1812.46,-243.028 1802.35,-239.871 1802.59,-246.867\"/>\r\n</g>\r\n<!-- 51 -->\r\n<g id=\"node52\" class=\"node\"><title>51</title>\r\n<path fill=\"#e6853f\" stroke=\"black\" d=\"M1946,-185C1946,-185 1800,-185 1800,-185 1794,-185 1788,-179 1788,-173 1788,-173 1788,-129 1788,-129 1788,-123 1794,-117 1800,-117 1800,-117 1946,-117 1946,-117 1952,-117 1958,-123 1958,-129 1958,-129 1958,-173 1958,-173 1958,-179 1952,-185 1946,-185\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-169.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0579</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-154.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.3%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-139.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9701, 0.0299]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-124.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 50&#45;&gt;51 -->\r\n<g id=\"edge51\" class=\"edge\"><title>50&#45;&gt;51</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1752.16,-148.667C1760.54,-148.83 1769.07,-148.997 1777.53,-149.161\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1777.73,-152.666 1787.8,-149.361 1777.87,-145.667 1777.73,-152.666\"/>\r\n</g>\r\n<!-- 52 -->\r\n<g id=\"node53\" class=\"node\"><title>52</title>\r\n<path fill=\"#eb9f69\" stroke=\"black\" d=\"M1946,-99C1946,-99 1800,-99 1800,-99 1794,-99 1788,-93 1788,-87 1788,-87 1788,-43 1788,-43 1788,-37 1794,-31 1800,-31 1800,-31 1946,-31 1946,-31 1952,-31 1958,-37 1958,-43 1958,-43 1958,-87 1958,-87 1958,-93 1952,-99 1946,-99\"/>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-83.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.3122</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-68.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.5%</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-53.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.8065, 0.1935]</text>\r\n<text text-anchor=\"middle\" x=\"1873\" y=\"-38.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 50&#45;&gt;52 -->\r\n<g id=\"edge52\" class=\"edge\"><title>50&#45;&gt;52</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1752.16,-112.818C1760.82,-109.365 1769.64,-105.846 1778.37,-102.362\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1779.81,-105.556 1787.8,-98.5995 1777.21,-99.055 1779.81,-105.556\"/>\r\n</g>\r\n<!-- 54 -->\r\n<g id=\"node55\" class=\"node\"><title>54</title>\r\n<path fill=\"#e6843e\" stroke=\"black\" d=\"M1322,-169.5C1322,-169.5 1165,-169.5 1165,-169.5 1159,-169.5 1153,-163.5 1153,-157.5 1153,-157.5 1153,-98.5 1153,-98.5 1153,-92.5 1159,-86.5 1165,-86.5 1165,-86.5 1322,-86.5 1322,-86.5 1328,-86.5 1334,-92.5 1334,-98.5 1334,-98.5 1334,-157.5 1334,-157.5 1334,-163.5 1328,-169.5 1322,-169.5\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-154.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">días_encartera &lt;= 1173.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-139.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0479</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-124.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.7%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-109.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.9755, 0.0245]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-94.3\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 53&#45;&gt;54 -->\r\n<g id=\"edge54\" class=\"edge\"><title>53&#45;&gt;54</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.33,-128C1108.64,-128 1125.87,-128 1142.63,-128\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1142.98,-131.5 1152.98,-128 1142.98,-124.5 1142.98,-131.5\"/>\r\n</g>\r\n<!-- 57 -->\r\n<g id=\"node58\" class=\"node\"><title>57</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1292,-68C1292,-68 1195,-68 1195,-68 1189,-68 1183,-62 1183,-56 1183,-56 1183,-12 1183,-12 1183,-6 1189,-0 1195,-0 1195,-0 1292,-0 1292,-0 1298,-0 1304,-6 1304,-12 1304,-12 1304,-56 1304,-56 1304,-62 1298,-68 1292,-68\"/>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-52.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-37.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 5.6%</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-22.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1243.5\" y=\"-7.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 53&#45;&gt;57 -->\r\n<g id=\"edge57\" class=\"edge\"><title>53&#45;&gt;57</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1092.33,-94.1966C1118.88,-83.5554 1147.87,-71.9321 1173.24,-61.7614\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1174.8,-64.9091 1182.78,-57.9396 1172.19,-58.4117 1174.8,-64.9091\"/>\r\n</g>\r\n<!-- 55 -->\r\n<g id=\"node56\" class=\"node\"><title>55</title>\r\n<path fill=\"#e58139\" stroke=\"black\" d=\"M1505,-162C1505,-162 1408,-162 1408,-162 1402,-162 1396,-156 1396,-150 1396,-150 1396,-106 1396,-106 1396,-100 1402,-94 1408,-94 1408,-94 1505,-94 1505,-94 1511,-94 1517,-100 1517,-106 1517,-106 1517,-150 1517,-150 1517,-156 1511,-162 1505,-162\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-146.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.0</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-131.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.5%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-116.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [1.0, 0.0]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-101.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 54&#45;&gt;55 -->\r\n<g id=\"edge55\" class=\"edge\"><title>54&#45;&gt;55</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1334.29,-128C1351.47,-128 1369.23,-128 1385.67,-128\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1385.72,-131.5 1395.72,-128 1385.72,-124.5 1385.72,-131.5\"/>\r\n</g>\r\n<!-- 56 -->\r\n<g id=\"node57\" class=\"node\"><title>56</title>\r\n<path fill=\"#e78c4a\" stroke=\"black\" d=\"M1513,-76C1513,-76 1400,-76 1400,-76 1394,-76 1388,-70 1388,-64 1388,-64 1388,-20 1388,-20 1388,-14 1394,-8 1400,-8 1400,-8 1513,-8 1513,-8 1519,-8 1525,-14 1525,-20 1525,-20 1525,-64 1525,-64 1525,-70 1519,-76 1513,-76\"/>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-60.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">gini = 0.1472</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-45.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">samples = 0.2%</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-30.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">value = [0.92, 0.08]</text>\r\n<text text-anchor=\"middle\" x=\"1456.5\" y=\"-15.8\" font-family=\"Helvetica,sans-Serif\" font-size=\"14.00\">class = Compra</text>\r\n</g>\r\n<!-- 54&#45;&gt;56 -->\r\n<g id=\"edge56\" class=\"edge\"><title>54&#45;&gt;56</title>\r\n<path fill=\"none\" stroke=\"black\" d=\"M1334.29,-91.4036C1349.01,-85.4032 1364.15,-79.2327 1378.53,-73.3736\"/>\r\n<polygon fill=\"black\" stroke=\"black\" points=\"1379.91,-76.5888 1387.85,-69.5732 1377.27,-70.1065 1379.91,-76.5888\"/>\r\n</g>\r\n</g>\r\n</svg>\r\n"
     },
     "metadata": {},
     "execution_count": 153
    }
   ],
   "metadata": {
    "azdata_cell_guid": "865e0fa5-00b5-4810-8b7a-48875f231658"
   }
  },
  {
   "cell_type": "markdown",
   "source": [
    "EVALUACIÓN RESULTADOS"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 154,
   "source": [
    "y_test_pred = pd.DataFrame(dt.predict(X_test), index=y_test.index, columns=['Predice_compra'])"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 155,
   "source": [
    "y_test.head()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Productos_short_term_deposit\n",
       "2080742                             0\n",
       "25725                               1\n",
       "86451                               1\n",
       "13288                               1\n",
       "6153477                             0"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2080742</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25725</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86451</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13288</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6153477</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 155
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 156,
   "source": [
    "y_test_pred.head()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Predice_compra\n",
       "2080742               0\n",
       "25725                 1\n",
       "86451                 1\n",
       "13288                 1\n",
       "6153477               0"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Predice_compra</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2080742</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25725</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86451</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13288</th>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6153477</th>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 156
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 157,
   "source": [
    "y_test.shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "(6156, 1)"
      ]
     },
     "metadata": {},
     "execution_count": 157
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 158,
   "source": [
    "y_test_pred.shape"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "(6156, 1)"
      ]
     },
     "metadata": {},
     "execution_count": 158
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 159,
   "source": [
    "results_df = y_test.join(y_test_pred,how= 'inner')   \r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 160,
   "source": [
    "results_df['Predice_compra']"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "2080742    0\n",
       "25725      1\n",
       "86451      1\n",
       "13288      1\n",
       "6153477    0\n",
       "          ..\n",
       "1341004    0\n",
       "3675813    0\n",
       "1165494    0\n",
       "3110280    0\n",
       "5459895    0\n",
       "Name: Predice_compra, Length: 6156, dtype: uint8"
      ]
     },
     "metadata": {},
     "execution_count": 160
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "source": [
    "results_df[Target]"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "2080742    0\n",
       "25725      1\n",
       "86451      1\n",
       "13288      1\n",
       "6153477    0\n",
       "          ..\n",
       "1341004    0\n",
       "3675813    0\n",
       "1165494    0\n",
       "3110280    0\n",
       "5459895    0\n",
       "Name: Productos_short_term_deposit, Length: 6156, dtype: uint8"
      ]
     },
     "metadata": {},
     "execution_count": 161
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 162,
   "source": [
    "results_df['Success'] = (results_df[Target] == results_df['Predice_compra']).astype(int)"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "de16de6d-2013-49b0-978d-2e0333b7d689"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 163,
   "source": [
    "results_df.head(20)"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "         Productos_short_term_deposit  Predice_compra  Success\n",
       "2080742                             0               0        1\n",
       "25725                               1               1        1\n",
       "86451                               1               1        1\n",
       "13288                               1               1        1\n",
       "6153477                             0               0        1\n",
       "5974987                             0               0        1\n",
       "1431                                1               1        1\n",
       "28857                               1               1        1\n",
       "79209                               1               1        1\n",
       "55175                               1               1        1\n",
       "4870321                             0               0        1\n",
       "5800428                             0               0        1\n",
       "5789874                             0               0        1\n",
       "3151                                1               1        1\n",
       "2932521                             0               0        1\n",
       "51844                               1               1        1\n",
       "11892                               1               1        1\n",
       "76106                               1               1        1\n",
       "4769396                             0               0        1\n",
       "74983                               1               1        1"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <th>Predice_compra</th>\n",
       "      <th>Success</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>2080742</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25725</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>86451</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13288</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6153477</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5974987</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1431</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28857</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>79209</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>55175</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4870321</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5800428</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5789874</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3151</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2932521</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>51844</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11892</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>76106</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4769396</th>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>74983</th>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 163
    }
   ],
   "metadata": {
    "azdata_cell_guid": "f7979794-03e2-4b92-8565-10b5f147f95b"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 164,
   "source": [
    "results_df['Success'].mean()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "0.9879792072774529"
      ]
     },
     "metadata": {},
     "execution_count": 164
    }
   ],
   "metadata": {
    "azdata_cell_guid": "0d216b2f-c7ba-4398-aef9-47639b59cbe4"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 165,
   "source": [
    "results_df['Success'].sum()"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "6082"
      ]
     },
     "metadata": {},
     "execution_count": 165
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 166,
   "source": [
    "print('Hemos acertado {} registros de un total de {}, por tanto el Accuracy es {}.'.format(results_df['Success'].sum(), results_df['Success'].count(), results_df['Success'].mean()))"
   ],
   "outputs": [
    {
     "output_type": "stream",
     "name": "stdout",
     "text": [
      "Hemos acertado 6082 registros de un total de 6156, por tanto el Accuracy es 0.9879792072774529.\n"
     ]
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "markdown",
   "source": [
    "## matriz de confusión"
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 167,
   "source": [
    "confussion_matrix = pd.crosstab(results_df[Target],results_df['Predice_compra'])"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "8a8d7ebc-7df1-4b12-8d98-52e61cd2f44b"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 168,
   "source": [
    "confussion_matrix"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "Predice_compra                   0     1\n",
       "Productos_short_term_deposit            \n",
       "0                             3023    39\n",
       "1                               35  3059"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th>Predice_compra</th>\n",
       "      <th>0</th>\n",
       "      <th>1</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>Productos_short_term_deposit</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>3023</td>\n",
       "      <td>39</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>35</td>\n",
       "      <td>3059</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 168
    }
   ],
   "metadata": {
    "azdata_cell_guid": "2bc85b5c-66e3-4539-9e38-f7ffda1ae4ce"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 169,
   "source": [
    "TP = confussion_matrix.iloc[1,1]\r\n",
    "TN = confussion_matrix.iloc[0,0]\r\n",
    "FP = confussion_matrix.iloc[0,1]\r\n",
    "FN = confussion_matrix.iloc[1,0]"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "aad4d3d2-bac2-4ff9-a731-cb146e02c84a"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 170,
   "source": [
    "accuracy = (TP + TN) / (TP + TN + FP + FN)\r\n",
    "accuracy"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "0.9879792072774529"
      ]
     },
     "metadata": {},
     "execution_count": 170
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 171,
   "source": [
    "Precision = TP / (TP + FP)\r\n",
    "Recall = TP/(TP + FN)"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "23be7dd7-b0a0-4f0e-8d78-680fc570fd86"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 172,
   "source": [
    "Precision"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "0.9874112330535829"
      ]
     },
     "metadata": {},
     "execution_count": 172
    }
   ],
   "metadata": {
    "azdata_cell_guid": "e73bd8c8-e21c-4447-b408-59706faf73eb"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 173,
   "source": [
    "Recall"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "0.9886877828054299"
      ]
     },
     "metadata": {},
     "execution_count": 173
    }
   ],
   "metadata": {
    "azdata_cell_guid": "0e852a35-c26e-4f68-abb3-f383ed7938b8"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 174,
   "source": [
    "'''for i in range(1,5):\r\n",
    "    dt2 = DecisionTreeClassifier( max_depth= i, min_samples_leaf=50,random_state=42)\r\n",
    "    dt2.fit(X_train,y_train)\r\n",
    "    train_accuracy = dt2.score(X_train, y_train)\r\n",
    "    test_accuracy = dt2.score(X_test, y_test)\r\n",
    "    print('Profundidad del árbol {}. accuracy en train: {} accuracy en test: {}' .format(i,train_accuracy,test_accuracy))\r\n",
    "'''\r\n"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "\"for i in range(1,5):\\n    dt2 = DecisionTreeClassifier( max_depth= i, min_samples_leaf=50,random_state=42)\\n    dt2.fit(X_train,y_train)\\n    train_accuracy = dt2.score(X_train, y_train)\\n    test_accuracy = dt2.score(X_test, y_test)\\n    print('Profundidad del árbol {}. accuracy en train: {} accuracy en test: {}' .format(i,train_accuracy,test_accuracy))\\n\""
      ]
     },
     "metadata": {},
     "execution_count": 174
    }
   ],
   "metadata": {
    "azdata_cell_guid": "ddccb47d-7091-4ce5-81b4-1915c718739c"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 175,
   "source": [
    "dt_final = DecisionTreeClassifier(max_depth= 8, min_samples_leaf=50,random_state=42)\r\n",
    "dt_final.fit(X_train,y_train)\r\n",
    "train_accuracy = dt_final.score(X_train, y_train)\r\n",
    "test_accuracy = dt_final.score(X_test, y_test)\r\n",
    "val_accuracy = dt_final.score(val_df_X, val_df_y)"
   ],
   "outputs": [],
   "metadata": {
    "azdata_cell_guid": "ed2c648d-7180-4a0d-a8de-f6118d028d5d"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 176,
   "source": [
    "print(' acc en train: {} acc en test: {} y acc en val {}' .format(train_accuracy,test_accuracy, val_accuracy))"
   ],
   "outputs": [
    {
     "output_type": "stream",
     "name": "stdout",
     "text": [
      " acc en train: 0.98862897985705 acc en test: 0.9879792072774529 y acc en val 0.9858727074709392\n"
     ]
    }
   ],
   "metadata": {
    "azdata_cell_guid": "a8b86edc-ecc8-44fa-a76a-1660603e7cca"
   }
  },
  {
   "cell_type": "code",
   "execution_count": 177,
   "source": [
    "probas = dt_final.predict_proba(df.drop(Target,axis=1))[:,1]"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 178,
   "source": [
    "probas_df = pd.DataFrame()\r\n",
    "probas_df['proba'] = probas\r\n",
    "probas_df.index = df.index"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 179,
   "source": [
    "probas_df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "            proba\n",
       "0        0.997449\n",
       "1        0.997449\n",
       "2        0.997449\n",
       "3        0.634921\n",
       "4        0.634921\n",
       "...           ...\n",
       "6254513  0.000000\n",
       "6254514  0.000000\n",
       "6254515  0.000000\n",
       "6254516  0.000000\n",
       "6254517  0.000000\n",
       "\n",
       "[6254518 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>proba</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.997449</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.997449</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.997449</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.634921</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.634921</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254513</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254514</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254515</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254516</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6254517</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>6254518 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 179
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 180,
   "source": [
    "probas_df = pd.merge(probas_df, df_pk_cid, left_index=True, right_index=True)"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 181,
   "source": [
    "probas_df.head(30)"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "       proba   pk_cid\n",
       "0   0.997449   100296\n",
       "1   0.997449   100296\n",
       "2   0.997449   100296\n",
       "3   0.634921   100296\n",
       "4   0.634921   100296\n",
       "5   0.634921   100296\n",
       "6   0.634921   100296\n",
       "7   0.634921   100296\n",
       "8   0.147541   100296\n",
       "9   0.147541   100296\n",
       "10  0.147541   100296\n",
       "11  0.094118   100296\n",
       "12  0.094118   100296\n",
       "13  0.000000   100296\n",
       "14  0.000000   100296\n",
       "15  0.000000   100296\n",
       "16  0.000000   100296\n",
       "17  0.000000   100296\n",
       "18  0.000000   100296\n",
       "19  0.000000   100296\n",
       "20  0.000000   100296\n",
       "21  0.000000   100296\n",
       "22  0.000000   100296\n",
       "23  0.000000   100296\n",
       "24  0.000000   100296\n",
       "25  0.000000   100296\n",
       "26  0.000000   100296\n",
       "27  0.000000   100296\n",
       "28  0.985981  1003705\n",
       "29  0.985981  1003705"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>proba</th>\n",
       "      <th>pk_cid</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>0.997449</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>0.997449</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>0.997449</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>0.634921</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>0.634921</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>0.634921</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>0.634921</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>0.634921</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>0.147541</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>0.147541</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>0.147541</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>11</th>\n",
       "      <td>0.094118</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>12</th>\n",
       "      <td>0.094118</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>20</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>22</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>23</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>24</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>0.000000</td>\n",
       "      <td>100296</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>28</th>\n",
       "      <td>0.985981</td>\n",
       "      <td>1003705</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>29</th>\n",
       "      <td>0.985981</td>\n",
       "      <td>1003705</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 181
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 182,
   "source": [
    "proba_pivot_df = probas_df.pivot_table(index='pk_cid', values='proba', aggfunc=[np.mean])"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 183,
   "source": [
    "proba_pivot_df"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "             mean\n",
       "            proba\n",
       "pk_cid           \n",
       "1000028  0.000000\n",
       "1000113  0.000000\n",
       "1000157  0.000000\n",
       "1000162  0.000000\n",
       "1000217  0.094099\n",
       "...           ...\n",
       "998837   0.000000\n",
       "998859   0.035751\n",
       "999825   0.000000\n",
       "999835   0.070255\n",
       "999892   0.055589\n",
       "\n",
       "[350384 rows x 1 columns]"
      ],
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe thead tr:last-of-type th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th>mean</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th></th>\n",
       "      <th>proba</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>pk_cid</th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>1000028</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1000113</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1000157</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1000162</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1000217</th>\n",
       "      <td>0.094099</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>998837</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>998859</th>\n",
       "      <td>0.035751</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>999825</th>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>999835</th>\n",
       "      <td>0.070255</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>999892</th>\n",
       "      <td>0.055589</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>350384 rows × 1 columns</p>\n",
       "</div>"
      ]
     },
     "metadata": {},
     "execution_count": 183
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 184,
   "source": [
    "proba_pivot_df.columns=['proba']"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 185,
   "source": [
    "proba_pivot_df = proba_pivot_df.reset_index()"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 186,
   "source": [
    "proba_pivot_df = proba_pivot_df.sort_values(by=['proba'], ascending=False)"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 187,
   "source": [
    "proba_pivot_df[0:10000].reset_index().to_csv(Target+'.csv')"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 188,
   "source": [
    "## Unión de datasets para hacer"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "source": [],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 189,
   "source": [
    "Productos_credit_card_proba = pd.read_csv('Productos_credit_card.csv')\r\n",
    "Productos_debit_card_proba=pd.read_csv('Productos_debit_card.csv')\r\n",
    "Productos_funds_proba= pd.read_csv('Productos_funds.csv')\r\n",
    "Productos_loans_proba=pd.read_csv('Productos_loans.csv')\r\n",
    "Productos_long_term_deposit_proba = pd.read_csv('Productos_long_term_deposit.csv')\r\n",
    "Productos_mortgage_proba= pd.read_csv('Productos_mortgage.csv')\r\n",
    "Productos_payroll_account_proba = pd.read_csv('Productos_payroll_account.csv')\r\n",
    "Productos_payroll_proba= pd.read_csv('Productos_payroll.csv')\r\n",
    "Productos_pension_plan_proba=pd.read_csv('Productos_pension_plan.csv')\r\n",
    "Productos_securities_proba=pd.read_csv('Productos_securities.csv')\r\n",
    "Productos_short_term_deposit_proba =pd.read_csv('Productos_short_term_deposit.csv')\r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 190,
   "source": [
    "Productos_em_account_proba =pd.read_csv('Productos_em_acount.csv')"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 191,
   "source": [
    "Productos_emc_account_proba =pd.read_csv('Productos_emc_account.csv')"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 192,
   "source": [
    "Proba_prod = ['Productos_credit_card_proba','Productos_debit_card_proba','Productos_funds_proba','Productos_loans_proba','Productos_long_term_deposit_proba','Productos_mortgage_proba','Productos_payroll_account_proba','Productos_payroll_proba','Productos_pension_plan_proba','Productos_securities_proba','Productos_short_term_deposit_proba']\r\n",
    "Proba_prod"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "['Productos_credit_card_proba',\n",
       " 'Productos_debit_card_proba',\n",
       " 'Productos_funds_proba',\n",
       " 'Productos_loans_proba',\n",
       " 'Productos_long_term_deposit_proba',\n",
       " 'Productos_mortgage_proba',\n",
       " 'Productos_payroll_account_proba',\n",
       " 'Productos_payroll_proba',\n",
       " 'Productos_pension_plan_proba',\n",
       " 'Productos_securities_proba',\n",
       " 'Productos_short_term_deposit_proba']"
      ]
     },
     "metadata": {},
     "execution_count": 192
    }
   ],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 193,
   "source": [
    "Productos_proba = ['Productos_credit_card',\r\n",
    " 'Productos_debit_card',\r\n",
    " 'Productos_funds',\r\n",
    " 'Productos_loans',\r\n",
    " 'Productos_long_term_deposit',\r\n",
    " 'Productos_mortgage',\r\n",
    " 'Productos_payroll_account',\r\n",
    " 'Productos_payroll',\r\n",
    " 'Productos_pension_plan',\r\n",
    " 'Productos_securities',\r\n",
    " 'Productos_short_term_deposit']"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 194,
   "source": [
    "Productos_credit_card_proba['Product']='Productos_credit_card'\r\n",
    "Productos_debit_card_proba['Product']='Productos_debit_card'\r\n",
    "Productos_funds_proba['Product']='Productos_funds'\r\n",
    "Productos_loans_proba['Product']='Productos_loans'\r\n",
    "Productos_long_term_deposit_proba['Product']='Productos_long_term_deposit'\r\n",
    "Productos_mortgage_proba['Product']='Productos_mortgage'\r\n",
    "Productos_payroll_account_proba['Product']='Productos_payroll_account'\r\n",
    "Productos_payroll_proba['Product']='Productos_payroll'\r\n",
    "Productos_pension_plan_proba['Product']='Productos_pension_plan'\r\n",
    "Productos_securities_proba['Product']='Productos_securities'\r\n",
    "Productos_short_term_deposit_proba['Product']='Productos_short_term_deposit'\r\n",
    "Productos_emc_account_proba['Product']='Productos_emc_account'\r\n",
    "Productos_em_account_proba['Product']='Productos_em_account'"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 195,
   "source": [
    "credit_card_mail =Productos_credit_card_proba[Productos_credit_card_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 196,
   "source": [
    "debit_card_mail=Productos_debit_card_proba[Productos_debit_card_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 197,
   "source": [
    "funds_mail=Productos_funds_proba[Productos_funds_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 198,
   "source": [
    "loans_mail=Productos_loans_proba[Productos_loans_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 199,
   "source": [
    "long_term_mail=Productos_long_term_deposit_proba[Productos_long_term_deposit_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 200,
   "source": [
    "mortgage_mail=Productos_mortgage_proba[Productos_mortgage_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 201,
   "source": [
    "payroll_mail=Productos_payroll_proba[Productos_payroll_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 202,
   "source": [
    "pension_plan_mail=Productos_pension_plan_proba[Productos_pension_plan_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 203,
   "source": [
    "securities_mail=Productos_securities_proba[Productos_securities_proba['proba']>0.8].shape"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 204,
   "source": [
    "short_term_mail=Productos_short_term_deposit_proba[Productos_short_term_deposit_proba['proba']>0.8].shape\r\n"
   ],
   "outputs": [],
   "metadata": {}
  },
  {
   "cell_type": "code",
   "execution_count": 205,
   "source": [
    "credit_card_mail[0]+debit_card_mail[0]+funds_mail[0]+loans_mail[0]+long_term_mail[0]+long_term_mail[0]+mortgage_mail[0]+payroll_mail[0]+pension_plan_mail[0]+securities_mail[0]+short_term_mail[0]"
   ],
   "outputs": [
    {
     "output_type": "execute_result",
     "data": {
      "text/plain": [
       "9228"
      ]
     },
     "metadata": {},
     "execution_count": 205
    }
   ],
   "metadata": {}
  }
 ],
 "metadata": {
  "celltoolbar": "Slideshow",
  "interpreter": {
   "hash": "90b24207e6093a301270a0d19dc6def1c6ed077b86affd8efd54c923308d9bd3"
  },
  "kernelspec": {
   "display_name": "Python 3.8.10 64-bit (windows store)",
   "name": "python3"
  },
  "language_info": {
   "name": "python",
   "version": ""
  },
  "varInspector": {
   "cols": {
    "lenName": 16,
    "lenType": 16,
    "lenVar": 40
   },
   "kernels_config": {
    "python": {
     "delete_cmd_postfix": "",
     "delete_cmd_prefix": "del ",
     "library": "var_list.py",
     "varRefreshCmd": "print(var_dic_list())"
    },
    "r": {
     "delete_cmd_postfix": ") ",
     "delete_cmd_prefix": "rm(",
     "library": "var_list.r",
     "varRefreshCmd": "cat(var_dic_list()) "
    }
   },
   "types_to_exclude": [
    "module",
    "function",
    "builtin_function_or_method",
    "instance",
    "_Feature"
   ],
   "window_display": false
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}